{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/base/PlotPolylineBase.js","webpack:///./src/GeoSectorSearch.js","webpack:///./src/GeoPolylineArrow.js","webpack:///./src/base/PlotPolygonBase.js","webpack:///./src/GeoTriFlag.js","webpack:///./src/GeoCurveArrow.js","webpack:///./src/GeoDoubleArrow.js","webpack:///./src/GeoRectangle.js","webpack:///./src/GeoRectangle2.js","webpack:///./src/GeoCircle.js","webpack:///./src/GeoCircle2.js","webpack:///./src/GeoPolygon.js","webpack:///./src/GeoPin.js","webpack:///./src/GeoRightAngleFlag.js","webpack:///./src/GeoCurveFlag.js","webpack:///./src/GeoPolyline.js","webpack:///./src/GeoArc.js","webpack:///./src/GeoBezier2.js","webpack:///./src/GeoBezier3.js","webpack:///./src/GeoSector.js","webpack:///./src/GeoSector2.js","webpack:///./src/GeoParallelSearch.js","webpack:///./src/GeoCurve.js","webpack:///./src/math/arrowHead.js","webpack:///./src/GeoArrow.js","webpack:///./src/GeoSimpleArrow.js","webpack:///./src/particleSystem/ParticleSystem.js","webpack:///./src/particleSystem/getImage.js","webpack:///./src/particleSystem/ParticleSystemFireWork.js","webpack:///./src/particleSystem/ParticleSystemTails.js","webpack:///./src/math/getCurve.js","webpack:///./src/GeoSmoothPolygon.js","webpack:///./src/index.js"],"names":["parentHotUpdateCallback","window","chunkId","moreModules","hotAvailableFilesMap","hotRequestedFilesMap","moduleId","Object","prototype","hasOwnProperty","call","hotUpdate","hotWaitingFiles","hotChunksLoading","hotUpdateDownloaded","hotAddUpdateChunk","hotCurrentChildModule","hotApplyOnUpdate","hotCurrentHash","hotCurrentModuleData","hotCurrentParents","hotCurrentParentsTemp","hotCreateRequire","me","installedModules","__webpack_require__","fn","request","hot","active","parents","indexOf","push","children","console","warn","ObjectFactory","name","configurable","enumerable","get","set","value","defineProperty","e","hotStatus","hotSetStatus","then","finishChunkLoading","err","hotWaitingFilesMap","hotEnsureUpdateChunk","t","mode","hotCreateModule","_acceptedDependencies","_declinedDependencies","_selfAccepted","_selfDeclined","_selfInvalidated","_disposeHandlers","_main","accept","dep","callback","undefined","i","length","decline","dispose","addDisposeHandler","removeDisposeHandler","idx","splice","invalidate","this","modules","hotApplyInvalidatedModule","hotQueuedInvalidatedModules","check","hotCheck","apply","hotApply","status","l","hotStatusHandlers","addStatusHandler","removeStatusHandler","data","newStatus","hotDeferred","hotUpdateNewHash","toModuleId","id","Error","requestTimeout","Promise","resolve","reject","XMLHttpRequest","requestPath","p","open","timeout","send","onreadystatechange","readyState","update","JSON","parse","responseText","hotApplyInvalidatedModules","c","h","promise","script","document","createElement","charset","src","head","appendChild","hotDownloadUpdateChunk","deferred","result","outdatedModules","options","hotApplyInternal","cb","j","module","getAffectedStuff","updateModuleId","outdatedDependencies","queue","map","chain","queueItem","pop","type","parentId","parent","concat","addAllToSet","a","b","item","appliedUpdate","warnUnexpectedRequire","abortError","doApply","doDispose","chainInfo","join","onDeclined","ignoreDeclined","onUnaccepted","ignoreUnaccepted","onAccepted","onDisposed","outdatedSelfAcceptedModules","slice","errorHandler","keys","forEach","installedChunks","hotDisposeChunk","dependency","moduleOutdatedDependencies","disposeHandlers","child","error","callbacks","onErrored","dependencyId","ignoreErrored","err2","originalError","list","exports","m","d","getter","o","r","Symbol","toStringTag","__esModule","ns","create","key","bind","n","object","property","s","PlotPolylineBase","XE","Obj","PlotBase","earth","guid","createPointLabel","viewer","position","text","dis","Cesium","Cartesian3","distance","camera","positionWC","oLabelEntity","clampToGround","attachPolygon","label","translucencyByDistance","NearFarScalar","style","LabelStyle","FILL_AND_OUTLINE","font","fillColor","Color","WHITE","withAlpha","outlineColor","BLACK","outlineWidth","disableDepthTestDistance","scale","pixelOffset","Cartesian2","verticalOrigin","VerticalOrigin","BOTTOM","czm","entities","add","setPointLabel","entity","super","_onlyMove","_fixedPositionsNum","MVVM","extend","_polylineShow","_polyline","Polyline","disposers","destroy","show","Earth","Interaction","Picking","registerPickingParent","_labels","_totalLabel","updatePolyline","width","material","XbsjColorMaterial","color","ground","depthTest","minShowHeight","maxShowHeight","cartesians","positions","fromRadians","showLength","pl","p0","p1","lerp","changeDisUnit","createPointLabelsCallback","middlePt","totalLength","points","totalDistance","polylineTotalLength","toFixed","watch","polylineShow","remove","flyTo","defaultOptions","Number","MAX_VALUE","Tool","_positions","Array","fill","_leftArrowPosition1","_rightArrowPosition1","_leftArrowPosition2","_rightArrowPosition2","_leftArrowPosition3","_rightArrowPosition3","_leftArrowPosition4","_rightArrowPosition4","_leftArrowPosition5","_rightArrowPosition5","_leftArrowPosition6","_rightArrowPosition6","_leftArrowPosition7","_rightArrowPosition7","_polylinePositions","_scratchHpr","_scratchPos","geod","Math","geoDistance","hpr","geoMove","PI_OVER_THREE","PI","registerType","_leftArrowPosition","_rightArrowPosition","PlotPolygonBase","_polygonShow","_polygon","Polygon","_position","area","_billboardEnt","updatePolygon","outline","outlineShow","extrudedHeight","_totalArea","bs","BoundingSphere","fromPoints","showArea","center","xbsjType","changeAreaUnit","_polygonPositions","_hpr","height","slices","interpolatePositions","ll","_keyPositions","_bottomCurcePositions","_leftArrowLeftPositions","_leftArrowRightPositions","_rightArrowLeftPositions","_rightArrowRightPositions","hasSamePosition","geoLerp","leftBottom","rightBottom","rightTop","leftTop","bottomCenter","topCenter","bottomKeyPos","Bezier","bezier2","bottomDistance","rightArrowRightBottom","rightArrowTop","rightArrowLeftBottom","rightArrowHeading","rightArrowCenterNeck","rightArrowLeftNeck","rightArrowRightNeck","rightArrowLeftNeckOuter","rightArrowRightNeckOuter","rightArrowBodyLeftCenter","rightArrowBodyRightCenter","rightArrowBodyRightCenterOuter","leftArrowRightBottom","leftArrowTop","leftArrowLeftBottom","leftArrowHeading","leftArrowCenterNeck","leftArrowLeftNeck","leftArrowRightNeck","leftArrowLeftNeckOuter","leftArrowRightNeckOuter","leftArrowBodyLeftCenter","leftArrowBodyRightCenter","leftArrowBodyLeftCenterOuter","bezier3","c_polygonPositions","c_pgPositions","_pgPositions","_nextPosition","ps","rotation","min","x","max","midPt","p2","p3","lp","holeRadius","holePositions","radius","GeoPin","Core","XbsjCzmObj","InteractionProperty","registerPositionEditing","_earth","positionEditingProperty","registerPositionPicking","positionPickingProperty","_pin","Pin","viewDistance","near","far","enabled","cameraAttached","attachedPathGuid","_div","innerHTML","pointerEvents","pin","winPos","left","bottom","container","cameraPosition","display","defaultImgUrl","parentNode","removeChild","Function","_sbottomCurcePositions","_tbottomCurcePositions","_fbottomCurcePositions","sleftBottom","srightBottom","srightTop","sleftTop","sbottomCenter","stopCenter","sbottomKeyPos","tleftBottom","trightBottom","trightTop","tleftTop","tbottomCenter","ttopCenter","tbottomKeyPos","fleftBottom","frightBottom","frightTop","fleftTop","fbottomCenter","ftopCenter","fbottomKeyPos","hpr1","hpr2","angle","_bezierPositions","startAngle","sliceAngle","sa","stopAngle","getArrowHead","arrowMaxHeightScale","minWidth","arrowWingWidthScale","positionsCartesian3","positionsRadian","arrowHead","topHeight","notMax","heading","waistCenter","wingCenter","waistCenterHeading","wingCenterHeading","PI_OVER_TWO","bb","reaction","observable","ref","minWidthScale","dynamicWidthScale","change","right","isEquals","last","next","current","d1","d2","index","centerDirection","k","TWO_PI","mileages","dynamicWidthMax","positionsMove","leftCurve","rightCurve","showType","changeShowType","param","params","positionsC","neckCenter","maxWidthScale","tailSide","neckHeading","neckSide","tailHeading","distances","tail","tailCenter","tailHeightScale","forkedTail","cusp","parallel","gravityScratch","ParticleSystem","registerRotationEditing","rotationEditingProperty","_viewer","_modelMatrix","Transforms","eastNorthUpToFixedFrame","_updateCallback","_particleSystem","image","startColor","endColor","startScale","endScale","minimumParticleLife","maximumParticleLife","minimumSpeed","maximumSpeed","imageSize","particleSize","emissionRate","lifetime","modelMatrix","emitterModelMatrix","Matrix4","IDENTITY","emitter","CircleEmitter","updateCallback","scene","primitives","minimumImageSize","maximumImageSize","updateParticleSystem","updateParticleSize","updateMatrix","gravity","updateGravity","emitterRadius","emitterAngle","emitterType","updateEmitter","rotateMatrix","y","z","HeadingPitchRoll","quaternion","Quaternion","fromHeadingPitchRoll","fromTranslationQuaternionRotationScale","ZERO","multiply","red","green","blue","alpha","_emitter","dt","normalize","multiplyByScalar","velocity","speed","abs","time","getColumn","boundingSphere","flyToBoundingSphere","duration","fountain","smoke","particleCanvas","context2D","getContext","beginPath","arc","closePath","fillStyle","particleLife","bursts","ParticleBurst","minimum","maximum","burstInterval","SphereEmitter","updateColor","updateInitialVelocity","updateModelMatrix","_initialVelocity","_particleSystemList","clone","_inverseModelMatrix","_colors","colors","updateColors","updateCommon","rotate","particleNumber","updateParticleSystemList","particleSystem","_radiuStep","_rotateSpeed","_speed","changeUpdateCallBack","inverse","radiuStep","rotateSpeed","inverseModelMatrix","particle","clamp","multiplyByPoint","cos","sin","force","sqrt","pow","comet","rocket","times","t1","t2","t3","tt1","tt2","tt3","point","doit","controlPositions","directions","vector","subtract","filter","isReturn","loop","distance1","distance2","vector1","vector2","shift","cartographic","Cartographic","fromCartesian","longitude","latitude","getCurve","Plots","GeoSectorSearch","GeoPolylineArrow","GeoTriFlag","GeoCurveArrow","GeoDoubleArrow","GeoRectangle","GeoRectangle2","GeoCircle","GeoCircle2","GeoPolygon","GeoRightAngleFlag","GeoCurveFlag","GeoPolyline","GeoArc","GeoBezier2","GeoBezier3","GeoSector","GeoSector2","GeoParallelSearch","GeoCurve","GeoArrow","GeoSimpleArrow","GeoSmoothPolygon","ParticleSystemFireWork","ParticleSystemTails"],"mappings":"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","file":"XbsjEarth-Plugins/plottingSymbol/plottingSymbol.js","sourcesContent":[" \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n \tvar parentHotUpdateCallback = window[\"webpackHotUpdate\"];\n \twindow[\"webpackHotUpdate\"] = // eslint-disable-next-line no-unused-vars\n \tfunction webpackHotUpdateCallback(chunkId, moreModules) {\n \t\thotAddUpdateChunk(chunkId, moreModules);\n \t\tif (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\n \t} ;\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadUpdateChunk(chunkId) {\n \t\tvar script = document.createElement(\"script\");\n \t\tscript.charset = \"utf-8\";\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\";\n \t\tif (null) script.crossOrigin = null;\n \t\tdocument.head.appendChild(script);\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadManifest(requestTimeout) {\n \t\trequestTimeout = requestTimeout || 10000;\n \t\treturn new Promise(function(resolve, reject) {\n \t\t\tif (typeof XMLHttpRequest === \"undefined\") {\n \t\t\t\treturn reject(new Error(\"No browser support\"));\n \t\t\t}\n \t\t\ttry {\n \t\t\t\tvar request = new XMLHttpRequest();\n \t\t\t\tvar requestPath = __webpack_require__.p + \"\" + hotCurrentHash + \".hot-update.json\";\n \t\t\t\trequest.open(\"GET\", requestPath, true);\n \t\t\t\trequest.timeout = requestTimeout;\n \t\t\t\trequest.send(null);\n \t\t\t} catch (err) {\n \t\t\t\treturn reject(err);\n \t\t\t}\n \t\t\trequest.onreadystatechange = function() {\n \t\t\t\tif (request.readyState !== 4) return;\n \t\t\t\tif (request.status === 0) {\n \t\t\t\t\t// timeout\n \t\t\t\t\treject(\n \t\t\t\t\t\tnew Error(\"Manifest request to \" + requestPath + \" timed out.\")\n \t\t\t\t\t);\n \t\t\t\t} else if (request.status === 404) {\n \t\t\t\t\t// no update available\n \t\t\t\t\tresolve();\n \t\t\t\t} else if (request.status !== 200 && request.status !== 304) {\n \t\t\t\t\t// other failure\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\n \t\t\t\t} else {\n \t\t\t\t\t// success\n \t\t\t\t\ttry {\n \t\t\t\t\t\tvar update = JSON.parse(request.responseText);\n \t\t\t\t\t} catch (e) {\n \t\t\t\t\t\treject(e);\n \t\t\t\t\t\treturn;\n \t\t\t\t\t}\n \t\t\t\t\tresolve(update);\n \t\t\t\t}\n \t\t\t};\n \t\t});\n \t}\n\n \tvar hotApplyOnUpdate = true;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentHash = \"a62b0c060f4fcd71cf70\";\n \tvar hotRequestTimeout = 10000;\n \tvar hotCurrentModuleData = {};\n \tvar hotCurrentChildModule;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParents = [];\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParentsTemp = [];\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateRequire(moduleId) {\n \t\tvar me = installedModules[moduleId];\n \t\tif (!me) return __webpack_require__;\n \t\tvar fn = function(request) {\n \t\t\tif (me.hot.active) {\n \t\t\t\tif (installedModules[request]) {\n \t\t\t\t\tif (installedModules[request].parents.indexOf(moduleId) === -1) {\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\thotCurrentParents = [moduleId];\n \t\t\t\t\thotCurrentChildModule = request;\n \t\t\t\t}\n \t\t\t\tif (me.children.indexOf(request) === -1) {\n \t\t\t\t\tme.children.push(request);\n \t\t\t\t}\n \t\t\t} else {\n \t\t\t\tconsole.warn(\n \t\t\t\t\t\"[HMR] unexpected require(\" +\n \t\t\t\t\t\trequest +\n \t\t\t\t\t\t\") from disposed module \" +\n \t\t\t\t\t\tmoduleId\n \t\t\t\t);\n \t\t\t\thotCurrentParents = [];\n \t\t\t}\n \t\t\treturn __webpack_require__(request);\n \t\t};\n \t\tvar ObjectFactory = function ObjectFactory(name) {\n \t\t\treturn {\n \t\t\t\tconfigurable: true,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: function() {\n \t\t\t\t\treturn __webpack_require__[name];\n \t\t\t\t},\n \t\t\t\tset: function(value) {\n \t\t\t\t\t__webpack_require__[name] = value;\n \t\t\t\t}\n \t\t\t};\n \t\t};\n \t\tfor (var name in __webpack_require__) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(__webpack_require__, name) &&\n \t\t\t\tname !== \"e\" &&\n \t\t\t\tname !== \"t\"\n \t\t\t) {\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\n \t\t\t}\n \t\t}\n \t\tfn.e = function(chunkId) {\n \t\t\tif (hotStatus === \"ready\") hotSetStatus(\"prepare\");\n \t\t\thotChunksLoading++;\n \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\n \t\t\t\tfinishChunkLoading();\n \t\t\t\tthrow err;\n \t\t\t});\n\n \t\t\tfunction finishChunkLoading() {\n \t\t\t\thotChunksLoading--;\n \t\t\t\tif (hotStatus === \"prepare\") {\n \t\t\t\t\tif (!hotWaitingFilesMap[chunkId]) {\n \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t\t\t}\n \t\t\t\t\tif (hotChunksLoading === 0 && hotWaitingFiles === 0) {\n \t\t\t\t\t\thotUpdateDownloaded();\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t};\n \t\tfn.t = function(value, mode) {\n \t\t\tif (mode & 1) value = fn(value);\n \t\t\treturn __webpack_require__.t(value, mode & ~1);\n \t\t};\n \t\treturn fn;\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateModule(moduleId) {\n \t\tvar hot = {\n \t\t\t// private stuff\n \t\t\t_acceptedDependencies: {},\n \t\t\t_declinedDependencies: {},\n \t\t\t_selfAccepted: false,\n \t\t\t_selfDeclined: false,\n \t\t\t_selfInvalidated: false,\n \t\t\t_disposeHandlers: [],\n \t\t\t_main: hotCurrentChildModule !== moduleId,\n\n \t\t\t// Module API\n \t\t\tactive: true,\n \t\t\taccept: function(dep, callback) {\n \t\t\t\tif (dep === undefined) hot._selfAccepted = true;\n \t\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\n \t\t\t\telse hot._acceptedDependencies[dep] = callback || function() {};\n \t\t\t},\n \t\t\tdecline: function(dep) {\n \t\t\t\tif (dep === undefined) hot._selfDeclined = true;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n \t\t\t\telse hot._declinedDependencies[dep] = true;\n \t\t\t},\n \t\t\tdispose: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\taddDisposeHandler: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\tremoveDisposeHandler: function(callback) {\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n \t\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n \t\t\t},\n \t\t\tinvalidate: function() {\n \t\t\t\tthis._selfInvalidated = true;\n \t\t\t\tswitch (hotStatus) {\n \t\t\t\t\tcase \"idle\":\n \t\t\t\t\t\thotUpdate = {};\n \t\t\t\t\t\thotUpdate[moduleId] = modules[moduleId];\n \t\t\t\t\t\thotSetStatus(\"ready\");\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"ready\":\n \t\t\t\t\t\thotApplyInvalidatedModule(moduleId);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"prepare\":\n \t\t\t\t\tcase \"check\":\n \t\t\t\t\tcase \"dispose\":\n \t\t\t\t\tcase \"apply\":\n \t\t\t\t\t\t(hotQueuedInvalidatedModules =\n \t\t\t\t\t\t\thotQueuedInvalidatedModules || []).push(moduleId);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\t// ignore requests in error states\n \t\t\t\t\t\tbreak;\n \t\t\t\t}\n \t\t\t},\n\n \t\t\t// Management API\n \t\t\tcheck: hotCheck,\n \t\t\tapply: hotApply,\n \t\t\tstatus: function(l) {\n \t\t\t\tif (!l) return hotStatus;\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\taddStatusHandler: function(l) {\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\tremoveStatusHandler: function(l) {\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\n \t\t\t\tif (idx >= 0) hotStatusHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t//inherit from previous dispose call\n \t\t\tdata: hotCurrentModuleData[moduleId]\n \t\t};\n \t\thotCurrentChildModule = undefined;\n \t\treturn hot;\n \t}\n\n \tvar hotStatusHandlers = [];\n \tvar hotStatus = \"idle\";\n\n \tfunction hotSetStatus(newStatus) {\n \t\thotStatus = newStatus;\n \t\tfor (var i = 0; i < hotStatusHandlers.length; i++)\n \t\t\thotStatusHandlers[i].call(null, newStatus);\n \t}\n\n \t// while downloading\n \tvar hotWaitingFiles = 0;\n \tvar hotChunksLoading = 0;\n \tvar hotWaitingFilesMap = {};\n \tvar hotRequestedFilesMap = {};\n \tvar hotAvailableFilesMap = {};\n \tvar hotDeferred;\n\n \t// The update info\n \tvar hotUpdate, hotUpdateNewHash, hotQueuedInvalidatedModules;\n\n \tfunction toModuleId(id) {\n \t\tvar isNumber = +id + \"\" === id;\n \t\treturn isNumber ? +id : id;\n \t}\n\n \tfunction hotCheck(apply) {\n \t\tif (hotStatus !== \"idle\") {\n \t\t\tthrow new Error(\"check() is only allowed in idle status\");\n \t\t}\n \t\thotApplyOnUpdate = apply;\n \t\thotSetStatus(\"check\");\n \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\n \t\t\tif (!update) {\n \t\t\t\thotSetStatus(hotApplyInvalidatedModules() ? \"ready\" : \"idle\");\n \t\t\t\treturn null;\n \t\t\t}\n \t\t\thotRequestedFilesMap = {};\n \t\t\thotWaitingFilesMap = {};\n \t\t\thotAvailableFilesMap = update.c;\n \t\t\thotUpdateNewHash = update.h;\n\n \t\t\thotSetStatus(\"prepare\");\n \t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\thotDeferred = {\n \t\t\t\t\tresolve: resolve,\n \t\t\t\t\treject: reject\n \t\t\t\t};\n \t\t\t});\n \t\t\thotUpdate = {};\n \t\t\tvar chunkId = 0;\n \t\t\t// eslint-disable-next-line no-lone-blocks\n \t\t\t{\n \t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t}\n \t\t\tif (\n \t\t\t\thotStatus === \"prepare\" &&\n \t\t\t\thotChunksLoading === 0 &&\n \t\t\t\thotWaitingFiles === 0\n \t\t\t) {\n \t\t\t\thotUpdateDownloaded();\n \t\t\t}\n \t\t\treturn promise;\n \t\t});\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotAddUpdateChunk(chunkId, moreModules) {\n \t\tif (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\n \t\t\treturn;\n \t\thotRequestedFilesMap[chunkId] = false;\n \t\tfor (var moduleId in moreModules) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif (--hotWaitingFiles === 0 && hotChunksLoading === 0) {\n \t\t\thotUpdateDownloaded();\n \t\t}\n \t}\n\n \tfunction hotEnsureUpdateChunk(chunkId) {\n \t\tif (!hotAvailableFilesMap[chunkId]) {\n \t\t\thotWaitingFilesMap[chunkId] = true;\n \t\t} else {\n \t\t\thotRequestedFilesMap[chunkId] = true;\n \t\t\thotWaitingFiles++;\n \t\t\thotDownloadUpdateChunk(chunkId);\n \t\t}\n \t}\n\n \tfunction hotUpdateDownloaded() {\n \t\thotSetStatus(\"ready\");\n \t\tvar deferred = hotDeferred;\n \t\thotDeferred = null;\n \t\tif (!deferred) return;\n \t\tif (hotApplyOnUpdate) {\n \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\n \t\t\t// avoid triggering uncaught exception warning in Chrome.\n \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\n \t\t\tPromise.resolve()\n \t\t\t\t.then(function() {\n \t\t\t\t\treturn hotApply(hotApplyOnUpdate);\n \t\t\t\t})\n \t\t\t\t.then(\n \t\t\t\t\tfunction(result) {\n \t\t\t\t\t\tdeferred.resolve(result);\n \t\t\t\t\t},\n \t\t\t\t\tfunction(err) {\n \t\t\t\t\t\tdeferred.reject(err);\n \t\t\t\t\t}\n \t\t\t\t);\n \t\t} else {\n \t\t\tvar outdatedModules = [];\n \t\t\tfor (var id in hotUpdate) {\n \t\t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\n \t\t\t\t}\n \t\t\t}\n \t\t\tdeferred.resolve(outdatedModules);\n \t\t}\n \t}\n\n \tfunction hotApply(options) {\n \t\tif (hotStatus !== \"ready\")\n \t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n \t\toptions = options || {};\n \t\treturn hotApplyInternal(options);\n \t}\n\n \tfunction hotApplyInternal(options) {\n \t\thotApplyInvalidatedModules();\n\n \t\tvar cb;\n \t\tvar i;\n \t\tvar j;\n \t\tvar module;\n \t\tvar moduleId;\n\n \t\tfunction getAffectedStuff(updateModuleId) {\n \t\t\tvar outdatedModules = [updateModuleId];\n \t\t\tvar outdatedDependencies = {};\n\n \t\t\tvar queue = outdatedModules.map(function(id) {\n \t\t\t\treturn {\n \t\t\t\t\tchain: [id],\n \t\t\t\t\tid: id\n \t\t\t\t};\n \t\t\t});\n \t\t\twhile (queue.length > 0) {\n \t\t\t\tvar queueItem = queue.pop();\n \t\t\t\tvar moduleId = queueItem.id;\n \t\t\t\tvar chain = queueItem.chain;\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (\n \t\t\t\t\t!module ||\n \t\t\t\t\t(module.hot._selfAccepted && !module.hot._selfInvalidated)\n \t\t\t\t)\n \t\t\t\t\tcontinue;\n \t\t\t\tif (module.hot._selfDeclined) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"self-declined\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tif (module.hot._main) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"unaccepted\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n \t\t\t\t\tvar parentId = module.parents[i];\n \t\t\t\t\tvar parent = installedModules[parentId];\n \t\t\t\t\tif (!parent) continue;\n \t\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n \t\t\t\t\t\treturn {\n \t\t\t\t\t\t\ttype: \"declined\",\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\tparentId: parentId\n \t\t\t\t\t\t};\n \t\t\t\t\t}\n \t\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n \t\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n \t\t\t\t\t\tif (!outdatedDependencies[parentId])\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n \t\t\t\t\t\tcontinue;\n \t\t\t\t\t}\n \t\t\t\t\tdelete outdatedDependencies[parentId];\n \t\t\t\t\toutdatedModules.push(parentId);\n \t\t\t\t\tqueue.push({\n \t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\tid: parentId\n \t\t\t\t\t});\n \t\t\t\t}\n \t\t\t}\n\n \t\t\treturn {\n \t\t\t\ttype: \"accepted\",\n \t\t\t\tmoduleId: updateModuleId,\n \t\t\t\toutdatedModules: outdatedModules,\n \t\t\t\toutdatedDependencies: outdatedDependencies\n \t\t\t};\n \t\t}\n\n \t\tfunction addAllToSet(a, b) {\n \t\t\tfor (var i = 0; i < b.length; i++) {\n \t\t\t\tvar item = b[i];\n \t\t\t\tif (a.indexOf(item) === -1) a.push(item);\n \t\t\t}\n \t\t}\n\n \t\t// at begin all updates modules are outdated\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\n \t\tvar outdatedDependencies = {};\n \t\tvar outdatedModules = [];\n \t\tvar appliedUpdate = {};\n\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\n \t\t\tconsole.warn(\n \t\t\t\t\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\"\n \t\t\t);\n \t\t};\n\n \t\tfor (var id in hotUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\tmoduleId = toModuleId(id);\n \t\t\t\t/** @type {TODO} */\n \t\t\t\tvar result;\n \t\t\t\tif (hotUpdate[id]) {\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\n \t\t\t\t} else {\n \t\t\t\t\tresult = {\n \t\t\t\t\t\ttype: \"disposed\",\n \t\t\t\t\t\tmoduleId: id\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\t/** @type {Error|false} */\n \t\t\t\tvar abortError = false;\n \t\t\t\tvar doApply = false;\n \t\t\t\tvar doDispose = false;\n \t\t\t\tvar chainInfo = \"\";\n \t\t\t\tif (result.chain) {\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n \t\t\t\t}\n \t\t\t\tswitch (result.type) {\n \t\t\t\t\tcase \"self-declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\t\" in \" +\n \t\t\t\t\t\t\t\t\tresult.parentId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"unaccepted\":\n \t\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n \t\t\t\t\t\tif (!options.ignoreUnaccepted)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"accepted\":\n \t\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n \t\t\t\t\t\tdoApply = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"disposed\":\n \t\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n \t\t\t\t\t\tdoDispose = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n \t\t\t\t}\n \t\t\t\tif (abortError) {\n \t\t\t\t\thotSetStatus(\"abort\");\n \t\t\t\t\treturn Promise.reject(abortError);\n \t\t\t\t}\n \t\t\t\tif (doApply) {\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n \t\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n \t\t\t\t\t\tif (\n \t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n \t\t\t\t\t\t\t\tresult.outdatedDependencies,\n \t\t\t\t\t\t\t\tmoduleId\n \t\t\t\t\t\t\t)\n \t\t\t\t\t\t) {\n \t\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n \t\t\t\t\t\t\taddAllToSet(\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n \t\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t\tif (doDispose) {\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Store self accepted outdated modules to require them later by the module system\n \t\tvar outdatedSelfAcceptedModules = [];\n \t\tfor (i = 0; i < outdatedModules.length; i++) {\n \t\t\tmoduleId = outdatedModules[i];\n \t\t\tif (\n \t\t\t\tinstalledModules[moduleId] &&\n \t\t\t\tinstalledModules[moduleId].hot._selfAccepted &&\n \t\t\t\t// removed self-accepted modules should not be required\n \t\t\t\tappliedUpdate[moduleId] !== warnUnexpectedRequire &&\n \t\t\t\t// when called invalidate self-accepting is not possible\n \t\t\t\t!installedModules[moduleId].hot._selfInvalidated\n \t\t\t) {\n \t\t\t\toutdatedSelfAcceptedModules.push({\n \t\t\t\t\tmodule: moduleId,\n \t\t\t\t\tparents: installedModules[moduleId].parents.slice(),\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\n \t\t\t\t});\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"dispose\" phase\n \t\thotSetStatus(\"dispose\");\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\n \t\t\tif (hotAvailableFilesMap[chunkId] === false) {\n \t\t\t\thotDisposeChunk(chunkId);\n \t\t\t}\n \t\t});\n\n \t\tvar idx;\n \t\tvar queue = outdatedModules.slice();\n \t\twhile (queue.length > 0) {\n \t\t\tmoduleId = queue.pop();\n \t\t\tmodule = installedModules[moduleId];\n \t\t\tif (!module) continue;\n\n \t\t\tvar data = {};\n\n \t\t\t// Call dispose handlers\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n \t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n \t\t\t\tcb = disposeHandlers[j];\n \t\t\t\tcb(data);\n \t\t\t}\n \t\t\thotCurrentModuleData[moduleId] = data;\n\n \t\t\t// disable module (this disables requires from this module)\n \t\t\tmodule.hot.active = false;\n\n \t\t\t// remove module from cache\n \t\t\tdelete installedModules[moduleId];\n\n \t\t\t// when disposing there is no need to call dispose handler\n \t\t\tdelete outdatedDependencies[moduleId];\n\n \t\t\t// remove \"parents\" references from all children\n \t\t\tfor (j = 0; j < module.children.length; j++) {\n \t\t\t\tvar child = installedModules[module.children[j]];\n \t\t\t\tif (!child) continue;\n \t\t\t\tidx = child.parents.indexOf(moduleId);\n \t\t\t\tif (idx >= 0) {\n \t\t\t\t\tchild.parents.splice(idx, 1);\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// remove outdated dependency from module children\n \t\tvar dependency;\n \t\tvar moduleOutdatedDependencies;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\n \t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"apply\" phase\n \t\thotSetStatus(\"apply\");\n\n \t\tif (hotUpdateNewHash !== undefined) {\n \t\t\thotCurrentHash = hotUpdateNewHash;\n \t\t\thotUpdateNewHash = undefined;\n \t\t}\n \t\thotUpdate = undefined;\n\n \t\t// insert new code\n \t\tfor (moduleId in appliedUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\n \t\t\t}\n \t\t}\n\n \t\t// call accept handlers\n \t\tvar error = null;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tvar callbacks = [];\n \t\t\t\t\tfor (i = 0; i < moduleOutdatedDependencies.length; i++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\n \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\n \t\t\t\t\t\tif (cb) {\n \t\t\t\t\t\t\tif (callbacks.indexOf(cb) !== -1) continue;\n \t\t\t\t\t\t\tcallbacks.push(cb);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t\tfor (i = 0; i < callbacks.length; i++) {\n \t\t\t\t\t\tcb = callbacks[i];\n \t\t\t\t\t\ttry {\n \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\n \t\t\t\t\t\t} catch (err) {\n \t\t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\n \t\t\t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Load self accepted modules\n \t\tfor (i = 0; i < outdatedSelfAcceptedModules.length; i++) {\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\n \t\t\tmoduleId = item.module;\n \t\t\thotCurrentParents = item.parents;\n \t\t\thotCurrentChildModule = moduleId;\n \t\t\ttry {\n \t\t\t\t__webpack_require__(moduleId);\n \t\t\t} catch (err) {\n \t\t\t\tif (typeof item.errorHandler === \"function\") {\n \t\t\t\t\ttry {\n \t\t\t\t\t\titem.errorHandler(err);\n \t\t\t\t\t} catch (err2) {\n \t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\terror: err2,\n \t\t\t\t\t\t\t\toriginalError: err\n \t\t\t\t\t\t\t});\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\tif (!error) error = err2;\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t});\n \t\t\t\t\t}\n \t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// handle errors in accept handlers and self accepted module load\n \t\tif (error) {\n \t\t\thotSetStatus(\"fail\");\n \t\t\treturn Promise.reject(error);\n \t\t}\n\n \t\tif (hotQueuedInvalidatedModules) {\n \t\t\treturn hotApplyInternal(options).then(function(list) {\n \t\t\t\toutdatedModules.forEach(function(moduleId) {\n \t\t\t\t\tif (list.indexOf(moduleId) < 0) list.push(moduleId);\n \t\t\t\t});\n \t\t\t\treturn list;\n \t\t\t});\n \t\t}\n\n \t\thotSetStatus(\"idle\");\n \t\treturn new Promise(function(resolve) {\n \t\t\tresolve(outdatedModules);\n \t\t});\n \t}\n\n \tfunction hotApplyInvalidatedModules() {\n \t\tif (hotQueuedInvalidatedModules) {\n \t\t\tif (!hotUpdate) hotUpdate = {};\n \t\t\thotQueuedInvalidatedModules.forEach(hotApplyInvalidatedModule);\n \t\t\thotQueuedInvalidatedModules = undefined;\n \t\t\treturn true;\n \t\t}\n \t}\n\n \tfunction hotApplyInvalidatedModule(moduleId) {\n \t\tif (!Object.prototype.hasOwnProperty.call(hotUpdate, moduleId))\n \t\t\thotUpdate[moduleId] = modules[moduleId];\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(0)(__webpack_require__.s = 0);\n","class PlotPolylineBase extends XE.Obj.PlotBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._onlyMove = false;\r\n        this._fixedPositionsNum = undefined;\r\n\r\n        XE.MVVM.extend(this, {\r\n            _polylineShow: true,\r\n        });\r\n\r\n        this._polyline = new XE.Obj.Polyline(earth);\r\n        this.disposers.push(() => {\r\n            this._polyline = this._polyline && this._polyline.destroy();\r\n        });\r\n        this._polyline.show = this._polylineShow && this.show;\r\n\r\n        XE.Earth.Interaction.Picking.registerPickingParent(this._polyline, this);\r\n        this._labels = [];\r\n        this._totalLabel = undefined;\r\n        function polylineTotalLength(points) {\r\n            var totalDistance = 0.0;\r\n            var pl = points.length;\r\n            for (var i = 0; i < pl - 1; ++i) {\r\n                totalDistance += Cesium.Cartesian3.distance(points[i], points[i + 1]);\r\n            }\r\n\r\n            return totalDistance;\r\n        }\r\n        function createPointLabelsCallback(positions, callback) {\r\n            var pl = positions.length;\r\n            for (var i = 0; i < pl - 1; ++i) {\r\n                var p0 = positions[i];\r\n                var p1 = positions[i + 1];\r\n                var dis = Cesium.Cartesian3.distance(p0, p1);\r\n                var middlePt = Cesium.Cartesian3.lerp(p0, p1, 0.5, new Cesium.Cartesian3());\r\n                var text = changeDisUnit(dis)\r\n                callback(i, dis, middlePt, text);\r\n            }\r\n        }\r\n        function createPointLabel(viewer, position, text) {\r\n            if (!position) return\r\n            var dis = Cesium.Cartesian3.distance(viewer.camera.positionWC, position);\r\n\r\n            var oLabelEntity = {\r\n                name: \"距离测量\",\r\n                position: position,\r\n                clampToGround: true,\r\n                attachPolygon: true,\r\n                label: {\r\n                    text: text,\r\n                    // translucencyByDistance: new Cesium.NearFarScalar(1.5e2, 2.0, 1.5e5, 0),\r\n                    translucencyByDistance: new Cesium.NearFarScalar(\r\n                        dis * 5.0,\r\n                        2.0,\r\n                        dis * 30.0,\r\n                        0\r\n                    ),\r\n                    style: Cesium.LabelStyle.FILL_AND_OUTLINE,\r\n                    font: \"35px 楷体\",\r\n                    fillColor: Cesium.Color.WHITE.withAlpha(0.9), // 必须withAlpha，否则会写深度，被拾取到\r\n                    outlineColor: Cesium.Color.BLACK.withAlpha(0.9),\r\n                    outlineWidth: 6,\r\n                    disableDepthTestDistance: 1000000000,\r\n                    scale: 0.5,\r\n                    pixelOffset: new Cesium.Cartesian2(0, -10),\r\n                    // showBackground:true,\r\n                    // backgroundColor:new Cesium.Color.fromCssColorString(\"rgba(0, 0, 0, 0.7)\"),\r\n                    // backgroundPadding:new Cesium.Cartesian2(10, 10),\r\n                    verticalOrigin: Cesium.VerticalOrigin.BOTTOM,\r\n                },\r\n                // point: {\r\n                //     color: new Cesium.Color(1.0, 0.0, 0.0, 0.8),\r\n                //     pixelSize: 8,\r\n                //     perPositionHeight: false,\r\n                //     disableDepthTestDistance: 1000000000,\r\n                // },\r\n            };\r\n\r\n            return earth.czm.viewer.entities.add(oLabelEntity);\r\n        }\r\n        function setPointLabel(entity, position, text) {\r\n            entity.position = position;\r\n            entity.label.text = text;\r\n        }\r\n        const updatePolyline = () => {\r\n            this._polyline.show = this._polylineShow && this.show;\r\n            this._polyline.width = this.width;\r\n            this._polyline.material.XbsjColorMaterial.color = this.color;\r\n            this._polyline.ground = this.ground;\r\n            this._polyline.depthTest = this.depthTest;\r\n            this._polyline.minShowHeight = this.minShowHeight;\r\n            this._polyline.maxShowHeight = this.maxShowHeight;\r\n            const cartesians = this.positions.map(p => Cesium.Cartesian3.fromRadians(...p));\r\n            this._labels.forEach((e) => (e.show = (this.showLength && this.show)));\r\n            if (this._totalLabel) {\r\n                this._totalLabel.show = this.showLength && this.show;\r\n            }\r\n            // if (!this.creating && this._labels.length > 0) {\r\n            //     this._labels.pop();\r\n            // }\r\n\r\n            //各段长\r\n            createPointLabelsCallback(\r\n                cartesians,\r\n                (i, dis, middlePt, text) => {\r\n                    if (typeof this._labels[i] === \"undefined\") {\r\n                        this._labels[i] = createPointLabel(\r\n                            earth.czm.viewer,\r\n                            middlePt,\r\n                            text\r\n                        );\r\n                    } else {\r\n                        setPointLabel(this._labels[i], middlePt, text);\r\n                    }\r\n                }\r\n            );\r\n            //总长\r\n            let totalLength = polylineTotalLength(cartesians);\r\n            if (typeof this._totalLabel === \"undefined\") {\r\n                this._totalLabel = createPointLabel(\r\n                    earth.czm.viewer,\r\n                    cartesians[0],\r\n                    \"总长:\" + changeDisUnit(totalLength)\r\n                );\r\n            } else {\r\n                setPointLabel(\r\n                    this._totalLabel,\r\n                    cartesians[0],\r\n                    \"总长:\" + changeDisUnit(totalLength)\r\n                );\r\n            }\r\n\r\n            let pl = this.positions.length;\r\n            for (\r\n                var i = pl - 1 < 0 ? 0 : pl - 1;\r\n                i < this._labels.length;\r\n                ++i\r\n            ) {\r\n                this._labels[i].show = false;\r\n            }\r\n        }\r\n        function changeDisUnit(dis) {\r\n            if (dis > 1000) {\r\n                return (dis / 1000).toFixed(3) + '千米'\r\n            } else {\r\n                return dis.toFixed(3) + '米'\r\n            }\r\n        }\r\n        updatePolyline();\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return {\r\n                show: this.show,\r\n                polylineShow: this._polylineShow,\r\n                width: this.width,\r\n                color: [...this.color],\r\n                ground: this.ground,\r\n                depthTest: this.depthTest,\r\n                minShowHeight: this.minShowHeight,\r\n                maxShowHeight: this.maxShowHeight,\r\n                positions: [...this.positions],\r\n                showLength: this.showLength\r\n            }\r\n        }, () => updatePolyline()),\r\n            () => {\r\n                this._labels.forEach((e) =>\r\n                    earth.czm.viewer.entities.remove(e)\r\n                );\r\n                earth.czm.viewer.entities.remove(this._totalLabel);\r\n            }\r\n        );\r\n    }\r\n\r\n    get onlyMove() {\r\n        return this._onlyMove;\r\n    }\r\n\r\n    get fixedPositionsNum() {\r\n        return this._fixedPositionsNum;\r\n    }\r\n\r\n    flyTo() {\r\n        this._polyline.flyTo();\r\n    }\r\n}\r\n\r\nPlotPolylineBase.defaultOptions = {\r\n    positions: [],\r\n    show: true,\r\n    width: 5.0,\r\n    color: [0, 1, 0, 1],\r\n    depthTest: false,\r\n    minShowHeight: -Number.MAX_VALUE,\r\n    maxShowHeight: Number.MAX_VALUE,\r\n    showLength: false,\r\n};\r\n\r\nexport default PlotPolylineBase;\r\n","import PlotPolylineBase from \"./base/PlotPolylineBase\";\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoSectorSearch extends PlotPolylineBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._onlyMove = true;\r\n        this._fixedPositionsNum = 2;\r\n\r\n        this._positions = new Array(6).fill(0).map(() => [0, 0, 0]);\r\n        this._leftArrowPosition1 = [0, 0, 0];\r\n        this._rightArrowPosition1 = [0, 0, 0];\r\n        this._leftArrowPosition2 = [0, 0, 0];\r\n        this._rightArrowPosition2 = [0, 0, 0];\r\n        this._leftArrowPosition3 = [0, 0, 0];\r\n        this._rightArrowPosition3 = [0, 0, 0];\r\n        this._leftArrowPosition4 = [0, 0, 0];\r\n        this._rightArrowPosition4 = [0, 0, 0];\r\n        this._leftArrowPosition5 = [0, 0, 0];\r\n        this._rightArrowPosition5 = [0, 0, 0];\r\n        this._leftArrowPosition6 = [0, 0, 0];\r\n        this._rightArrowPosition6 = [0, 0, 0];\r\n        this._leftArrowPosition7 = [0, 0, 0];\r\n        this._rightArrowPosition7 = [0, 0, 0];\r\n\r\n        this._polylinePositions = [];\r\n\r\n        this._scratchHpr = [0, 0, 0];\r\n        this._scratchPos = [0, 0, 0];\r\n        this.disposers.push(\r\n            XE.MVVM.watch(\r\n                () => [...this.positions.map(e => [...e])],\r\n                positions => {\r\n                    if (positions.length === 2) {\r\n                        positions[1][2] = positions[0][2];\r\n                        const geod = Tool.Math.geoDistance(positions[0], positions[1]);\r\n                        const center = positions[0];\r\n\r\n                        if (geod > 0) {\r\n                            const hpr = Tool.hpr(\r\n                                positions[0],\r\n                                positions[1],\r\n                                this._scratchHpr\r\n                            );\r\n\r\n                            if (!hpr) {\r\n                                return;\r\n                            }\r\n\r\n                            for (let i = 0; i < 6; ++i) {\r\n                                Tool.Math.geoMove(\r\n                                    positions[0],\r\n                                    hpr[0] + Cesium.Math.PI_OVER_THREE * i,\r\n                                    geod,\r\n                                    this._positions[i]\r\n                                );\r\n                            }\r\n\r\n                            this._polylinePositions.length = 0;\r\n\r\n                            Tool.Math.geoMove(\r\n                                this._positions[0],\r\n                                hpr[0] + (Math.PI * 7) / 6,\r\n                                geod * 0.1,\r\n                                this._leftArrowPosition1\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this._positions[0],\r\n                                hpr[0] - (Math.PI * 7) / 6,\r\n                                geod * 0.1,\r\n                                this._rightArrowPosition1\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this._positions[1],\r\n                                hpr[0] + (Math.PI * 3) / 2,\r\n                                geod * 0.1,\r\n                                this._leftArrowPosition2\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this._positions[1],\r\n                                hpr[0] - Math.PI / 6,\r\n                                geod * 0.1,\r\n                                this._rightArrowPosition2\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this._positions[4],\r\n                                hpr[0] + Math.PI / 2,\r\n                                geod * 0.1,\r\n                                this._leftArrowPosition3\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this._positions[4],\r\n                                hpr[0] + Math.PI / 6,\r\n                                geod * 0.1,\r\n                                this._rightArrowPosition3\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this._positions[5],\r\n                                hpr[0] - (Math.PI * 5) / 6,\r\n                                geod * 0.1,\r\n                                this._leftArrowPosition4\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this._positions[5],\r\n                                hpr[0] + (Math.PI * 5) / 6,\r\n                                geod * 0.1,\r\n                                this._rightArrowPosition4\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this._positions[2],\r\n                                hpr[0] - Math.PI / 6,\r\n                                geod * 0.1,\r\n                                this._leftArrowPosition5\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this._positions[2],\r\n                                hpr[0] - Math.PI / 2,\r\n                                geod * 0.1,\r\n                                this._rightArrowPosition5\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this._positions[3],\r\n                                hpr[0] + Math.PI / 2,\r\n                                geod * 0.1,\r\n                                this._leftArrowPosition6\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this._positions[3],\r\n                                hpr[0] + Math.PI / 6,\r\n                                geod * 0.1,\r\n                                this._rightArrowPosition6\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this.positions[0],\r\n                                hpr[0] + (Math.PI * 7) / 6,\r\n                                geod * 0.1,\r\n                                this._leftArrowPosition7\r\n                            );\r\n                            Tool.Math.geoMove(\r\n                                this.positions[0],\r\n                                hpr[0] - (Math.PI + Math.PI / 6),\r\n                                geod * 0.1,\r\n                                this._rightArrowPosition7\r\n                            );\r\n\r\n                            this._polylinePositions.push([...positions[0]]);\r\n                            this._polylinePositions.push([...this._positions[0]]);\r\n                            this._polylinePositions.push([...this._leftArrowPosition1]);\r\n                            this._polylinePositions.push([...this._positions[0]]);\r\n                            this._polylinePositions.push([...this._rightArrowPosition1]);\r\n                            this._polylinePositions.push([...this._positions[0]]);\r\n                            this._polylinePositions.push([...this._positions[1]]);\r\n                            this._polylinePositions.push([...this._leftArrowPosition2]);\r\n                            this._polylinePositions.push([...this._positions[1]]);\r\n                            this._polylinePositions.push([...this._rightArrowPosition2]);\r\n                            this._polylinePositions.push([...this._positions[1]]);\r\n                            this._polylinePositions.push([...this._positions[4]]);\r\n                            this._polylinePositions.push([...this._leftArrowPosition3]);\r\n                            this._polylinePositions.push([...this._positions[4]]);\r\n                            this._polylinePositions.push([...this._rightArrowPosition3]);\r\n                            this._polylinePositions.push([...this._positions[4]]);\r\n                            this._polylinePositions.push([...this._positions[5]]);\r\n                            this._polylinePositions.push([...this._leftArrowPosition4]);\r\n                            this._polylinePositions.push([...this._positions[5]]);\r\n                            this._polylinePositions.push([...this._rightArrowPosition4]);\r\n                            this._polylinePositions.push([...this._positions[5]]);\r\n                            this._polylinePositions.push([...this._positions[2]]);\r\n                            this._polylinePositions.push([...this._leftArrowPosition5]);\r\n                            this._polylinePositions.push([...this._positions[2]]);\r\n                            this._polylinePositions.push([...this._rightArrowPosition5]);\r\n                            this._polylinePositions.push([...this._positions[2]]);\r\n                            this._polylinePositions.push([...this._positions[3]]);\r\n                            this._polylinePositions.push([...this._leftArrowPosition6]);\r\n                            this._polylinePositions.push([...this._positions[3]]);\r\n                            this._polylinePositions.push([...this._rightArrowPosition6]);\r\n                            this._polylinePositions.push([...this._positions[3]]);\r\n                            this._polylinePositions.push([...positions[0]]);\r\n                            this._polylinePositions.push([...this._leftArrowPosition7]);\r\n                            this._polylinePositions.push([...positions[0]]);\r\n                            this._polylinePositions.push([...this._rightArrowPosition7]);\r\n\r\n                            this._polyline.positions = this._polylinePositions;\r\n                            this._polylineShow = true;\r\n                            return;\r\n                        }\r\n                    }\r\n                    this._polylineShow = false;\r\n                }\r\n            )\r\n        );\r\n    }\r\n}\r\n\r\nGeoSectorSearch.registerType(GeoSectorSearch, \"GeoSectorSearch\");\r\n\r\nexport default GeoSectorSearch;\r\n","import PlotPolylineBase from './base/PlotPolylineBase';\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoPolylineArrow extends PlotPolylineBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._leftArrowPosition = [0, 0, 0];\r\n        this._rightArrowPosition = [0, 0, 0];\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return [...this.positions.map(e => [...e])];\r\n        }, positions => {\r\n            const l = positions.length;\r\n            const d = Tool.Math.distance(positions);\r\n            \r\n            if (l < 2) {\r\n                this._polylineShow = false;\r\n                return;\r\n            }\r\n\r\n            const hpr = Tool.Math.hpr(positions[l-1], positions[l-2]);\r\n            if (hpr) {\r\n                Tool.Math.geoMove(positions[l-1], hpr[0] + Math.PI/6, d * 0.1, this._leftArrowPosition);\r\n                Tool.Math.geoMove(positions[l-1], hpr[0] - Math.PI/6, d * 0.1, this._rightArrowPosition);\r\n    \r\n                positions.push([...this._leftArrowPosition]);\r\n                positions.push([...positions[l-1]]);\r\n                positions.push([...this._rightArrowPosition]);\r\n                positions.push([...positions[l-1]]);\r\n    \r\n                this._polyline.positions = positions;\r\n    \r\n                this._polylineShow = true;\r\n            }\r\n        }));\r\n    }\r\n}\r\n        \r\nGeoPolylineArrow.registerType(GeoPolylineArrow, 'GeoPolylineArrow');\r\n\r\nexport default GeoPolylineArrow;\r\n","\r\n\r\nclass PlotPolygonBase extends XE.Obj.PlotBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._onlyMove = false;\r\n        this._fixedPositionsNum = undefined;\r\n\r\n        XE.MVVM.extend(this, {\r\n            _polygonShow: true, // 内部决定是否显示\r\n        });\r\n\r\n        this._polygon = new XE.Obj.Polygon(earth);\r\n        this.disposers.push(() => {\r\n            this._polygon = this._polygon && this._polygon.destroy();\r\n        });\r\n        this._polygon.show = this._polygonShow && this.show;\r\n\r\n        XE.Earth.Interaction.Picking.registerPickingParent(this._polygon, this);\r\n        this._position = Cesium.Cartesian3.fromRadians(0, 0, 0);\r\n        this.area = 0\r\n        let dis = Cesium.Cartesian3.distance(earth.czm.viewer.camera.positionWC, this._position);\r\n        this._billboardEnt = earth.czm.viewer.entities.add({\r\n            name: '面积显示',\r\n            position: this._position,\r\n            // point: {\r\n            //     pixelSize: 5.0,\r\n            //     color: Cesium.Color.YELLOW,\r\n            //     outlineColor: Cesium.Color.BLACK,\r\n            //     outlineWidth: 1.0,\r\n            // },\r\n            label: {\r\n                text: this.area + '平方米',\r\n                translucencyByDistance: new Cesium.NearFarScalar(\r\n                    dis * 5.0,\r\n                    2.0,\r\n                    dis * 30.0,\r\n                    0\r\n                ),\r\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\r\n                font: '35px 楷体',\r\n                fillColor: Cesium.Color.WHITE.withAlpha(0.9), // 必须withAlpha，否则会写深度，被拾取到\r\n                outlineColor: Cesium.Color.BLACK.withAlpha(0.9),\r\n                outlineWidth: 6,\r\n                scale: 0.5,\r\n                disableDepthTestDistance: 1000000000,\r\n                pixelOffset: new Cesium.Cartesian2(0, -10),\r\n                verticalOrigin: Cesium.VerticalOrigin.BOTTOM,\r\n                // distanceDisplayCondition: distanceDisplayCondition,\r\n                // translucencyByDistance: translucencyByDistance,\r\n                // showBackground:true,\r\n                // backgroundColor:new Cesium.Color.fromCssColorString(\"rgba(0, 0, 0, 0.7)\"),\r\n                // backgroundPadding:new Cesium.Cartesian2(10, 10),\r\n            }\r\n        });\r\n        const updatePolygon = () => {\r\n            this._polygon.show = this._polygonShow && this.show;\r\n            this._polygon.width = this.width;\r\n            this._polygon.color = this.color;\r\n            this._polygon.ground = this.ground;\r\n\r\n            this._polygon.outline.width = this.outlineWidth;\r\n            this._polygon.outline.color = this.outlineColor;\r\n            this._polygon.outline.show = this.outlineShow;\r\n            this._polygon.depthTest = this.depthTest;\r\n            this._polygon.extrudedHeight = this.extrudedHeight;\r\n            this._polygon.minShowHeight = this.minShowHeight;\r\n            this._polygon.maxShowHeight = this.maxShowHeight;\r\n            this.area = this._polygon._totalArea;\r\n            let area = this._polygon._totalArea;\r\n            const cartesians = this.positions.map((p) =>\r\n                Cesium.Cartesian3.fromRadians(...p)\r\n            );\r\n            let bs = Cesium.BoundingSphere.fromPoints(cartesians);\r\n            this._billboardEnt.show = this.showArea && this.show;\r\n            this._billboardEnt.position = bs.center;\r\n            if (this.xbsjType == 'GeoRectangle' || this.xbsjType == 'GeoCircle') {\r\n                if (this.positions.length > 1 && area) {\r\n                    this._billboardEnt.label.text = changeAreaUnit(area)\r\n                }\r\n            } else {\r\n                if (this.positions.length > 2 && area) {\r\n                    this._billboardEnt.label.text = changeAreaUnit(area)\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        function changeAreaUnit(area) {\r\n            if (area > 1000000) {\r\n                return (area / 1000000).toFixed(3) + '平方千米'\r\n            } else if (area > 10000) {\r\n                return (area / 10000).toFixed(3) + '公顷'\r\n            } else if (area > 100) {\r\n                return (area / 100).toFixed(3) + '公亩'\r\n            } else {\r\n                return area.toFixed(3) + '平方米'\r\n            }\r\n        }\r\n\r\n        updatePolygon();\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return {\r\n                show: this._polygonShow && this.show,\r\n                width: this.width,\r\n                color: [...this.color],\r\n                ground: this.ground,\r\n                outlineWidth: this.outlineWidth,\r\n                outlineColor: this.outlineColor,\r\n                outlineShow: this.outlineShow,\r\n                depthTest: this.depthTest,\r\n                extrudedHeight: this.extrudedHeight,\r\n                minShowHeight: this.minShowHeight,\r\n                maxShowHeight: this.maxShowHeight,\r\n                showArea: this.showArea,\r\n                positions: [...this.positions],\r\n            }\r\n        }, () => updatePolygon()),\r\n            () => {\r\n                earth.czm.viewer.entities.remove(this._billboardEnt);\r\n            }\r\n        );\r\n    }\r\n\r\n    get onlyMove() {\r\n        return this._onlyMove;\r\n    }\r\n\r\n    get fixedPositionsNum() {\r\n        return this._fixedPositionsNum;\r\n    }\r\n\r\n    flyTo() {\r\n        this._polygon.flyTo();\r\n    }\r\n}\r\n\r\nPlotPolygonBase.defaultOptions = {\r\n    positions: [],\r\n    show: true,\r\n    color: [0, 1, 0, 0.1],\r\n    outlineWidth: 2.0,\r\n    outlineColor: [0, 1, 0, 1],\r\n    outlineShow: true,\r\n    depthTest: false, // 深度测试，当开启地形透明时，建议开启\r\n    extrudedHeight: null,\r\n    minShowHeight: -Number.MAX_VALUE,\r\n    maxShowHeight: Number.MAX_VALUE,\r\n    showArea: false,//显示面积标签\r\n};\r\n\r\nexport default PlotPolygonBase;\r\n","import PlotPolygonBase from './base/PlotPolygonBase';\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoTriFlag extends PlotPolygonBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._onlyMove = true;\r\n        this._fixedPositionsNum = 2;\r\n\r\n        this._polygonPositions = [];\r\n        this._hpr = [0, 0, 0];\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            // return {\r\n            //     positions: [...this.positions.map(e => [e[0], e[1]])].flat(),\r\n            //     height: this.positions.length > 0 && this.positions[0][2],\r\n            // };\r\n            return [...this.positions.map(e => [...e])];\r\n        }, positions => {\r\n            const l = positions.length;\r\n            \r\n            if (l < 2) {\r\n                this._polygonShow = false;\r\n                return;\r\n            }\r\n\r\n            this._polygonPositions.length = 0;\r\n            this._polygonPositions.push(positions[0][0], positions[1][1]);\r\n            this._polygonPositions.push(positions[0][0], positions[0][1]);\r\n            this._polygonPositions.push(positions[1][0], 0.5*(positions[0][1] + positions[1][1]));\r\n            const d = positions[1][0] - positions[0][0];\r\n            this._polygonPositions.push(positions[0][0] + 0.01 * d, 0.5*(positions[0][1] + positions[1][1]));\r\n            this._polygonPositions.push(positions[0][0] + 0.01 * d, positions[1][1]);\r\n\r\n            this._polygon.positions = this._polygonPositions;\r\n            this._polygon.height = positions[0][2];\r\n\r\n            this._polygonShow = true;\r\n        }));\r\n    }\r\n}\r\n        \r\nGeoTriFlag.registerType(GeoTriFlag, 'GeoTriFlag');\r\n\r\nexport default GeoTriFlag;\r\n","import PlotPolylineBase from './base/PlotPolylineBase';\r\n\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoCurveArrow extends PlotPolylineBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._leftArrowPosition = [0, 0, 0];\r\n        this._rightArrowPosition = [0, 0, 0];\r\n        this._positions = [];\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return {\r\n                positions: [...this.positions.map(e => [...e])],\r\n                slices: this.slices,\r\n            }\r\n        }, ({ positions, slices }) => {\r\n            const l = positions.length;\r\n            const d = Tool.Math.distance(positions);\r\n            \r\n            if (l < 2) {\r\n                this._polylineShow = false;\r\n                return;\r\n            }\r\n\r\n            this._positions.length = 0;\r\n            Tool.Math.interpolatePositions(positions, slices, false, this._positions);\r\n\r\n            const ll = this._positions.length;\r\n\r\n            const hpr = Tool.Math.hpr(this._positions[ll-1], this._positions[ll-2]);\r\n            if (!hpr) {\r\n                this._polylineShow = false;\r\n                return;\r\n            }\r\n            Tool.Math.geoMove(this._positions[ll-1], hpr[0] + Math.PI/6, d * 0.05, this._leftArrowPosition);\r\n            Tool.Math.geoMove(this._positions[ll-1], hpr[0] - Math.PI/6, d * 0.05, this._rightArrowPosition);\r\n\r\n            this._positions.push([...this._leftArrowPosition]);\r\n            this._positions.push([...this._positions[ll-1]]);\r\n            this._positions.push([...this._rightArrowPosition]);\r\n            this._positions.push([...this._positions[ll-1]]);\r\n\r\n            this._polyline.positions = this._positions;\r\n\r\n            this._polylineShow = true;\r\n        }));\r\n    }\r\n}\r\n\r\nGeoCurveArrow.defaultOptions = {\r\n    /**\r\n     * 曲线分段数\r\n     * @type {number}\r\n     * @instance\r\n     * @default 100\r\n     * @memberof XE.Obj.Plots.GeoCurveArrow\r\n     */\r\n    slices: 100\r\n};\r\n        \r\nGeoCurveArrow.registerType(GeoCurveArrow, 'GeoCurveArrow');\r\n\r\nexport default GeoCurveArrow;\r\n","import PlotPolygonBase from './base/PlotPolygonBase';\r\n\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoDoubleArrow extends PlotPolygonBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._onlyMove = true;\r\n        this._fixedPositionsNum = 4;\r\n\r\n        this._keyPositions = (new Array(50)).fill(0).map(e => [0, 0, 0]);\r\n        this._bottomCurcePositions = (new Array(20)).fill(0).map(e => [0, 0, 0]);\r\n        this._leftArrowLeftPositions = (new Array(20)).fill(0).map(e => [0, 0, 0]);\r\n        this._leftArrowRightPositions = (new Array(20)).fill(0).map(e => [0, 0, 0]);\r\n        this._rightArrowLeftPositions = (new Array(20)).fill(0).map(e => [0, 0, 0]);\r\n        this._rightArrowRightPositions = (new Array(20)).fill(0).map(e => [0, 0, 0]);\r\n\r\n        this._polygonPositions = [];\r\n        this._hpr = [0, 0, 0];\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return [...this.positions.map(e => [...e])];\r\n        }, positions => {\r\n            const l = positions.length;\r\n            \r\n            if (l < 3 || (l === 3 && Tool.Math.hasSamePosition(positions))) {\r\n                this._polygonShow = false;\r\n                return;\r\n            }\r\n\r\n            this._keyPositions[0].splice(0, 3, ...positions[0]);\r\n            this._keyPositions[1].splice(0, 3, ...positions[1]);\r\n            this._keyPositions[2].splice(0, 3, ...positions[2]);\r\n\r\n            if (positions.length === 4) {\r\n                this._keyPositions[3].splice(0, 3, ...positions[3]);\r\n            } else {\r\n                Tool.Math.geoLerp(positions[0], positions[2], 0.5, this._keyPositions[3]);\r\n                Tool.Math.geoLerp(positions[1], this._keyPositions[3], 2.0, this._keyPositions[3]);\r\n            }\r\n\r\n            const leftBottom = this._keyPositions[0];\r\n            const rightBottom = this._keyPositions[1];\r\n            const rightTop = this._keyPositions[2];\r\n            const leftTop = this._keyPositions[3];\r\n\r\n            // this._polygonPositions.length = 0;\r\n            // this._polygonPositions.push(this._keyPositions[0][0], this._keyPositions[0][1]);\r\n            // this._polygonPositions.push(this._keyPositions[1][0], this._keyPositions[1][1]);\r\n            // this._polygonPositions.push(this._keyPositions[2][0], this._keyPositions[2][1]);\r\n            // this._polygonPositions.push(this._keyPositions[3][0], this._keyPositions[3][1]);\r\n\r\n            // 底部曲线\r\n            const bottomCenter = Tool.Math.geoLerp(leftBottom, rightBottom, 0.5, this._keyPositions[4]);\r\n            const topCenter = Tool.Math.geoLerp(rightTop, leftTop, 0.5, this._keyPositions[5]);\r\n            const bottomKeyPos = Tool.Math.geoLerp(bottomCenter, topCenter, 0.1, this._keyPositions[6]);\r\n            Tool.Math.Bezier.bezier2(leftBottom, bottomKeyPos, rightBottom, 19, this._bottomCurcePositions);\r\n\r\n            // this._polygonPositions.length = 0;\r\n            // this._bottomCurcePositions.forEach(e => {\r\n            //     this._polygonPositions.push(e[0], e[1]);\r\n            // });\r\n            // this._polygonPositions.push(this._keyPositions[2][0], this._keyPositions[2][1]);\r\n            // this._polygonPositions.push(this._keyPositions[3][0], this._keyPositions[3][1]);\r\n\r\n            const bottomDistance = Tool.Math.geoDistance(leftBottom, rightBottom);\r\n\r\n            // 右箭头曲线\r\n            const rightArrowRightBottom = rightBottom;\r\n            const rightArrowTop = rightTop;\r\n            const rightArrowLeftBottom = Tool.Math.geoLerp(bottomCenter, topCenter, 0.3, this._keyPositions[7]);\r\n            const rightArrowHeading = Tool.Math.hpr(rightArrowRightBottom, rightArrowTop, this._hpr)[0];\r\n            const rightArrowCenterNeck = Tool.Math.geoMove(rightArrowTop, Math.PI + rightArrowHeading, bottomDistance * 0.1, this._keyPositions[8]);\r\n            const rightArrowLeftNeck = Tool.Math.geoMove(rightArrowCenterNeck, rightArrowHeading - Math.PI*0.5, bottomDistance * 0.04, this._keyPositions[9]);\r\n            const rightArrowRightNeck = Tool.Math.geoMove(rightArrowCenterNeck, rightArrowHeading + Math.PI*0.5, bottomDistance * 0.04, this._keyPositions[10]);\r\n            const rightArrowLeftNeckOuter = Tool.Math.geoLerp(rightArrowLeftNeck, rightArrowRightNeck, -0.5, this._keyPositions[11]);\r\n            const rightArrowRightNeckOuter = Tool.Math.geoLerp(rightArrowLeftNeck, rightArrowRightNeck, 1.5, this._keyPositions[12]);\r\n            const rightArrowBodyLeftCenter = Tool.Math.geoLerp(rightArrowLeftNeck, rightArrowLeftBottom, 0.5, this._keyPositions[13]);\r\n            const rightArrowBodyRightCenter = Tool.Math.geoLerp(rightArrowRightNeck, rightArrowRightBottom, 0.5, this._keyPositions[14]);\r\n            const rightArrowBodyLeftCenterInner = Tool.Math.geoLerp(rightArrowBodyLeftCenter, rightArrowBodyRightCenter, 0.3, this._keyPositions[15]);\r\n            const rightArrowBodyRightCenterOuter = Tool.Math.geoLerp(rightArrowBodyLeftCenter, rightArrowBodyRightCenter, 1.3, this._keyPositions[16]);\r\n            Tool.Math.Bezier.bezier2(rightArrowRightBottom, rightArrowBodyRightCenterOuter, rightArrowRightNeck, 19, this._rightArrowRightPositions);\r\n            // Tool.Math.Bezier.bezier2(rightArrowLeftNeck, rightArrowBodyLeftCenterInner, rightArrowLeftBottom, 19, this._rightArrowLeftPositions);\r\n\r\n            // 左箭头曲线\r\n            const leftArrowRightBottom = Tool.Math.geoLerp(bottomCenter, topCenter, 0.3, this._keyPositions[17]);\r\n            const leftArrowTop = leftTop;\r\n            const leftArrowLeftBottom = leftBottom;\r\n            const leftArrowHeading = Tool.Math.hpr(leftArrowLeftBottom, leftArrowTop, this._hpr)[0];\r\n            const leftArrowCenterNeck = Tool.Math.geoMove(leftArrowTop, Math.PI + leftArrowHeading, bottomDistance * 0.1, this._keyPositions[18]);\r\n            const leftArrowLeftNeck = Tool.Math.geoMove(leftArrowCenterNeck, leftArrowHeading - Math.PI*0.5, bottomDistance * 0.04, this._keyPositions[19]);\r\n            const leftArrowRightNeck = Tool.Math.geoMove(leftArrowCenterNeck, leftArrowHeading + Math.PI*0.5, bottomDistance * 0.04, this._keyPositions[20]);\r\n            const leftArrowLeftNeckOuter = Tool.Math.geoLerp(leftArrowLeftNeck, leftArrowRightNeck, -0.5, this._keyPositions[21]);\r\n            const leftArrowRightNeckOuter = Tool.Math.geoLerp(leftArrowLeftNeck, leftArrowRightNeck, 1.5, this._keyPositions[22]);\r\n            const leftArrowBodyLeftCenter = Tool.Math.geoLerp(leftArrowLeftNeck, leftArrowLeftBottom, 0.5, this._keyPositions[23]);\r\n            const leftArrowBodyRightCenter = Tool.Math.geoLerp(leftArrowRightNeck, leftArrowRightBottom, 0.5, this._keyPositions[24]);\r\n            const leftArrowBodyLeftCenterOuter = Tool.Math.geoLerp(leftArrowBodyLeftCenter, leftArrowBodyRightCenter, -0.3, this._keyPositions[25]);\r\n            const leftArrowBodyRightCenterInner = Tool.Math.geoLerp(leftArrowBodyLeftCenter, leftArrowBodyRightCenter, 0.7, this._keyPositions[26]);\r\n            // Tool.Math.Bezier.bezier2(leftArrowRightBottom, leftArrowBodyRightCenterInner, leftArrowRightNeck, 19, this._leftArrowRightPositions);\r\n            // Tool.Math.Bezier.bezier3(rightArrowLeftNeck, rightArrowBodyLeftCenterInner, leftArrowBodyRightCenterInner, leftArrowRightNeck, 19, this._leftArrowRightPositions);\r\n            Tool.Math.Bezier.bezier3(rightArrowLeftNeck, rightBottom, leftBottom, leftArrowRightNeck, 19, this._leftArrowRightPositions);\r\n\r\n            Tool.Math.Bezier.bezier2(leftArrowLeftNeck, leftArrowBodyLeftCenterOuter, leftArrowLeftBottom, 19, this._leftArrowLeftPositions);\r\n\r\n            this._polygonPositions.length = 0;\r\n            this._bottomCurcePositions.forEach(e => {\r\n                this._polygonPositions.push(e[0], e[1]);\r\n            });\r\n            // this._polygonPositions.push(rightTop[0], rightTop[1]);\r\n            // 右箭头\r\n            this._rightArrowRightPositions.forEach(e => this._polygonPositions.push(e[0], e[1])); // 右箭头右曲线\r\n            this._polygonPositions.push(rightArrowRightNeckOuter[0], rightArrowRightNeckOuter[1]); \r\n            this._polygonPositions.push(rightArrowTop[0], rightArrowTop[1]);\r\n            this._polygonPositions.push(rightArrowLeftNeckOuter[0], rightArrowLeftNeckOuter[1]);\r\n            // this._rightArrowLeftPositions.forEach(e => this._polygonPositions.push(e[0], e[1])); // 右箭头左曲线             \r\n\r\n            // 左箭头\r\n            this._leftArrowRightPositions.forEach(e => this._polygonPositions.push(e[0], e[1])); // 左箭头右曲线\r\n            this._polygonPositions.push(leftArrowRightNeckOuter[0], leftArrowRightNeckOuter[1]);\r\n            this._polygonPositions.push(leftArrowTop[0], leftArrowTop[1]);\r\n            this._polygonPositions.push(leftArrowLeftNeckOuter[0], leftArrowLeftNeckOuter[1]);\r\n            this._leftArrowLeftPositions.forEach(e => this._polygonPositions.push(e[0], e[1])); // 左箭头左曲线\r\n\r\n            this._polygon.positions = this._polygonPositions;\r\n            this._polygon.height = positions[0][2];\r\n\r\n            this._polygonShow = true;\r\n        }));\r\n    }\r\n}\r\n        \r\nGeoDoubleArrow.registerType(GeoDoubleArrow, 'GeoDoubleArrow');\r\n\r\nexport default GeoDoubleArrow;\r\n\r\n","import PlotPolygonBase from './base/PlotPolygonBase';\r\nconst Tool = XE.Tool;\r\n\r\nconst c_polygonPositions = new Array(360).fill(0).map(e => [0, 0, 0]);\r\nconst c_pgPositions = [];\r\n\r\nclass GeoRectangle extends PlotPolygonBase {\r\n  constructor(earth, guid) {\r\n    super(earth, guid);\r\n\r\n    this._onlyMove = true;\r\n    this._fixedPositionsNum = 2;\r\n\r\n    this._polygonPositions = new Array(4).fill(0).map(e => [0, 0, 0]);\r\n    this._pgPositions = [];\r\n    this._nextPosition = [0, 0, 0];\r\n\r\n    this.disposers.push(\r\n      XE.MVVM.watch(\r\n        () => ({\r\n          ps: [...this.positions.map(e => [...e])],\r\n          rotation: this.rotation,\r\n        }),\r\n        () => {\r\n          const { positions, rotation } = this;\r\n          const l = positions.length;\r\n\r\n          if (l < 2) {\r\n            this._polygonShow = false;\r\n            return;\r\n          }\r\n\r\n          const p = positions;\r\n          const n = Math.min;\r\n          const x = Math.max;\r\n          const h = p[0][2];\r\n\r\n          const d = Tool.Math.geoDistance(p[0], p[1]);\r\n          if (d <= 0) {\r\n            return;\r\n          }\r\n\r\n          const midPt = [(p[0][0] + p[1][0])*.5, (p[0][1] + p[1][1])*.5, (p[0][2] + p[1][2])*.5, ];\r\n          const p0 = [n(p[0][0], p[1][0]), n(p[0][1], p[1][1]), h];\r\n          const p1 = [x(p[0][0], p[1][0]), n(p[0][1], p[1][1]), h];\r\n          const p2 = [x(p[0][0], p[1][0]), x(p[0][1], p[1][1]), h];\r\n          const p3 = [n(p[0][0], p[1][0]), x(p[0][1], p[1][1]), h];\r\n          \r\n          c_polygonPositions.length = 0;\r\n          c_polygonPositions.push(p0, p1, p2, p3);\r\n\r\n          // rotation\r\n          for (let lp of c_polygonPositions) {\r\n            const d = Tool.Math.geoDistance(midPt, lp);\r\n            const hpr = Tool.Math.hpr(midPt, lp);\r\n            if (hpr) {\r\n              Tool.Math.geoMove(midPt, hpr[0] += rotation, d, lp);\r\n            }\r\n          }\r\n\r\n          c_pgPositions.length = 0;\r\n          c_polygonPositions.forEach(e => {\r\n            c_pgPositions.push(e[0], e[1]);\r\n          });\r\n\r\n          this._polygon.positions = c_pgPositions;\r\n          this._polygon.height = h;\r\n\r\n          this._polygonShow = true;\r\n        }\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nGeoRectangle.defaultOptions = {\r\n  rotation: 0,\r\n};\r\n\r\nGeoRectangle.registerType(GeoRectangle, \"GeoRectangle\");\r\n\r\nexport default GeoRectangle;\r\n","import PlotPolygonBase from './base/PlotPolygonBase';\r\nconst Tool = XE.Tool;\r\n\r\nconst c_polygonPositions = new Array(360).fill(0).map(e => [0, 0, 0]);\r\nconst c_pgPositions = [];\r\n\r\nclass GeoRectangle2 extends PlotPolygonBase {\r\n  constructor(earth, guid) {\r\n    super(earth, guid);\r\n\r\n    this._onlyMove = true;\r\n    this._fixedPositionsNum = 2;\r\n\r\n    this._polygonPositions = new Array(4).fill(0).map(e => [0, 0, 0]);\r\n    this._pgPositions = [];\r\n    this._nextPosition = [0, 0, 0];\r\n\r\n    this.disposers.push(\r\n      XE.MVVM.watch(\r\n        () => ({\r\n          positions: [...this.positions.map(e => [...e])],\r\n          rotation: this.rotation,\r\n          width: this.width,\r\n          height: this.height,\r\n        }),\r\n        ({ \r\n          positions, \r\n          rotation, \r\n          width, \r\n          height, \r\n        }) => {\r\n          const l = positions.length;\r\n\r\n          if (l <= 0) {\r\n            this._polygonShow = false;\r\n            return;\r\n          }\r\n\r\n          const center = positions[0]\r\n          \r\n          c_polygonPositions.length = 0;\r\n\r\n          // // rotation\r\n          // for (let lp of c_polygonPositions) {\r\n          //   const d = Tool.Math.geoDistance(midPt, lp);\r\n          //   const hpr = Tool.Math.hpr(midPt, lp);\r\n          //   if (hpr) {\r\n          //     Tool.Math.geoMove(midPt, hpr[0] += rotation, d, lp);\r\n          //   }\r\n          // }\r\n\r\n          // 东北\r\n          Tool.Math.geoMove(center, rotation, width*0.5, this._nextPosition);\r\n          Tool.Math.geoMove(this._nextPosition, rotation - Math.PI*0.5, height*0.5, this._nextPosition);\r\n          c_polygonPositions.push([...this._nextPosition]);\r\n          \r\n          // 西北\r\n          Tool.Math.geoMove(center, rotation, -width*0.5, this._nextPosition);\r\n          Tool.Math.geoMove(this._nextPosition, rotation - Math.PI*0.5, height*0.5, this._nextPosition);\r\n          c_polygonPositions.push([...this._nextPosition]);\r\n\r\n          // 西南\r\n          Tool.Math.geoMove(center, rotation, -width*0.5, this._nextPosition);\r\n          Tool.Math.geoMove(this._nextPosition, rotation + Math.PI*0.5, height*0.5, this._nextPosition);\r\n          c_polygonPositions.push([...this._nextPosition]);\r\n\r\n          // 东南\r\n          Tool.Math.geoMove(center, rotation, width*0.5, this._nextPosition);\r\n          Tool.Math.geoMove(this._nextPosition, rotation + Math.PI*0.5, height*0.5, this._nextPosition);\r\n          c_polygonPositions.push([...this._nextPosition]);\r\n\r\n          c_pgPositions.length = 0;\r\n          c_polygonPositions.forEach(e => {\r\n            c_pgPositions.push(e[0], e[1]);\r\n          });\r\n\r\n          this._polygon.positions = c_pgPositions;\r\n          this._polygon.height = positions[0][2];;\r\n\r\n          this._polygonShow = true;\r\n        }\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nGeoRectangle2.defaultOptions = {\r\n  rotation: 0,\r\n  width: 200000,\r\n  height: 100000,\r\n};\r\n\r\nGeoRectangle2.registerType(GeoRectangle2, \"GeoRectangle2\");\r\n\r\nexport default GeoRectangle2;\r\n","import PlotPolygonBase from './base/PlotPolygonBase';\r\n\r\nconst Tool = XE.Tool;\r\n\r\nconst c_polygonPositions = new Array(360).fill(0).map(e => [0, 0, 0]);\r\nconst c_pgPositions = [];\r\n\r\nclass GeoCircle extends PlotPolygonBase {\r\n  constructor(earth, guid) {\r\n    super(earth, guid);\r\n\r\n    this._onlyMove = true;\r\n    this._fixedPositionsNum = 2;\r\n\r\n\r\n    this.disposers.push(\r\n      XE.MVVM.watch(\r\n        () => ({\r\n          positions: [...this.positions.map(e => [...e])],\r\n          holeRadius: this.holeRadius,\r\n        }),\r\n        ({positions, holeRadius}) => {\r\n          const l = positions.length;\r\n\r\n          if (l < 2) {\r\n            this._polygonShow = false;\r\n            return;\r\n          }\r\n\r\n          const d = Tool.Math.geoDistance(positions[0], positions[1]);\r\n\r\n          const hpr = Tool.Math.hpr(positions[0], positions[1]);\r\n          if (!hpr) {\r\n            return;\r\n          }\r\n\r\n          const slice = 360;\r\n\r\n          {\r\n            for (let i = 0; i < slice; i++) {\r\n              Tool.Math.geoMove(\r\n                positions[0],\r\n                i * Math.PI/180,\r\n                d,\r\n                c_polygonPositions[i],\r\n              );\r\n            }\r\n  \r\n            c_pgPositions.length = 0;\r\n            c_polygonPositions.forEach(e => {\r\n              c_pgPositions.push(e[0], e[1]);\r\n            });\r\n  \r\n            this._polygon.positions = c_pgPositions;\r\n          }\r\n\r\n          if (this.holeRadius > 0 && this.holeRadius < d) {\r\n            for (let i = 0; i < slice; i++) {\r\n              Tool.Math.geoMove(\r\n                positions[0],\r\n                i * Math.PI/180,\r\n                this.holeRadius,\r\n                c_polygonPositions[i],\r\n              );\r\n            }\r\n  \r\n            c_pgPositions.length = 0;\r\n            c_polygonPositions.forEach(e => {\r\n              c_pgPositions.push(e[0], e[1]);\r\n            });\r\n  \r\n            this._polygon.holePositions = c_pgPositions;\r\n          }\r\n\r\n          this._polygon.height = positions[0][2];\r\n\r\n          this._polygonShow = true;\r\n        }\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nGeoCircle.defaultOptions = {\r\n  holeRadius: 0,\r\n};\r\n\r\nGeoCircle.registerType(GeoCircle, \"GeoCircle\");\r\n\r\nexport default GeoCircle;\r\n","import PlotPolygonBase from './base/PlotPolygonBase';\r\n\r\nconst Tool = XE.Tool;\r\n\r\nconst c_polygonPositions = new Array(360).fill(0).map(e => [0, 0, 0]);\r\nconst c_pgPositions = [];\r\n\r\nclass GeoCircle2 extends PlotPolygonBase {\r\n  constructor(earth, guid) {\r\n    super(earth, guid);\r\n\r\n    this._onlyMove = true;\r\n    this._fixedPositionsNum = 1;\r\n\r\n    this.disposers.push(\r\n      XE.MVVM.watch(\r\n        () => ({\r\n          positions: [...this.positions.map(e => [...e])],\r\n          radius: this.radius,\r\n          holeRadius: this.holeRadius,\r\n          slice: this.slice,\r\n        }),\r\n        ({positions, radius, holeRadius, slice}) => {\r\n          const l = positions.length;\r\n\r\n          if (l <= 0) {\r\n            this._polygonShow = false;\r\n            return;\r\n          }\r\n\r\n          const d = radius;\r\n\r\n          if (d <= 0) {\r\n            return;\r\n          }\r\n\r\n          if (slice <=2) {\r\n            return;\r\n          }\r\n\r\n          {\r\n            for (let i = 0; i < slice; i++) {\r\n              Tool.Math.geoMove(\r\n                positions[0],\r\n                i * Math.PI/180,\r\n                d,\r\n                c_polygonPositions[i],\r\n              );\r\n            }\r\n  \r\n            c_pgPositions.length = 0;\r\n            c_polygonPositions.forEach(e => {\r\n              c_pgPositions.push(e[0], e[1]);\r\n            });\r\n  \r\n            this._polygon.positions = c_pgPositions;\r\n          }\r\n\r\n          if (holeRadius > 0 && holeRadius < d) {\r\n            for (let i = 0; i < slice; i++) {\r\n              Tool.Math.geoMove(\r\n                positions[0],\r\n                i * Math.PI/180,\r\n                this.holeRadius,\r\n                c_polygonPositions[i],\r\n              );\r\n            }\r\n  \r\n            c_pgPositions.length = 0;\r\n            c_polygonPositions.forEach(e => {\r\n              c_pgPositions.push(e[0], e[1]);\r\n            });\r\n  \r\n            this._polygon.holePositions = c_pgPositions;\r\n          }\r\n\r\n          this._polygon.height = positions[0][2];\r\n\r\n          this._polygonShow = true;\r\n        }\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nGeoCircle2.defaultOptions = {\r\n  radius: 200000,\r\n  holeRadius: 0,\r\n  slice: 360,\r\n};\r\n\r\nGeoCircle2.registerType(GeoCircle2, \"GeoCircle2\");\r\n\r\nexport default GeoCircle2;\r\n","import PlotPolygonBase from './base/PlotPolygonBase';\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoPolygon extends PlotPolygonBase {\r\n  constructor(earth, guid) {\r\n    super(earth, guid);\r\n\r\n    this._pgPositions = [];\r\n    this.disposers.push(\r\n      XE.MVVM.watch(\r\n        () => {\r\n          return [...this.positions.map(e => [...e])];\r\n        },\r\n        positions => {\r\n          const l = positions.length;\r\n\r\n          if (l <= 1) {\r\n            return;\r\n          }\r\n\r\n          this._pgPositions.length = 0;\r\n          positions.forEach(e => {\r\n            this._pgPositions.push(e[0], e[1]);\r\n          });\r\n\r\n          this._polygon.positions = this._pgPositions;\r\n          this._polygon.height = positions[0][2];\r\n        }\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nGeoPolygon.registerType(GeoPolygon, \"GeoPolygon\");\r\n\r\nexport default GeoPolygon;\r\n","const Tool = XE.Tool;\r\n\r\nclass GeoPin extends XE.Core.XbsjCzmObj {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n        this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPositionEditing(this._earth, this, {\r\n            positionEditingProperty: 'editing',\r\n        }));\r\n\r\n        this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPositionPicking(this._earth, this, {\r\n            positionPickingProperty: 'creating',\r\n        }));\r\n\r\n        this._pin = new XE.Obj.Pin(earth);\r\n        this.disposers.push(() => (this._pin = this._pin && this._pin.destroy()));\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            this._pin.position = [...this.position];\r\n            this._pin.viewDistance = this.viewDistance;\r\n            this._pin.scale = this.scale;\r\n            this._pin.near = this.near;\r\n            this._pin.far = this.far;\r\n            this._pin.disableDepthTestDistance = this.disableDepthTestDistance;\r\n            this._pin.enabled = this.enabled;\r\n            this._pin.cameraAttached = this.cameraAttached;\r\n            this._pin.attachedPathGuid = this.attachedPathGuid;\r\n        }));\r\n        this.disposers.push(XE.MVVM.bind(this, 'cameraAttached', this, '_pin.cameraAttached'));\r\n\r\n        this._div = document.createElement(\"div\");\r\n        this._div.id = this._pin.guid;\r\n        this._div.innerHTML = this.innerHTML;\r\n        this._div.style.position = \"absolute\";\r\n        this._div.style.pointerEvents = \"none\";\r\n        let pin = this._pin;\r\n        this.disposers.push(XE.MVVM.watch(\r\n            () => [...pin.winPos], // winPos是一个有四个元素的数组，分别指示 [left, top, right, bottom]\r\n            winPos => {\r\n                this._div.style.left = winPos[0] + \"px\";\r\n                this._div.style.bottom = winPos[3] + \"px\";\r\n            }\r\n        ));\r\n        earth.czm.viewer.container.appendChild(this._div);\r\n\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return {\r\n                cameraPosition: [...earth.camera.position],\r\n                near: this.near,\r\n                far: this.far,\r\n                position: [...this.position],\r\n                enabled: this.enabled\r\n\r\n            }\r\n        }, s => {\r\n            let distance = XE.Tool.Math.distance([s.position, s.cameraPosition])\r\n            if (s.enabled && s.near <= distance && distance <= s.far) {\r\n                this._div.style.display = \"block\";\r\n            } else {\r\n                this._div.style.display = \"none\";\r\n            }\r\n            // if (s.enabled) {\r\n            //     this._div.style.display = \"block\";\r\n            // } else {\r\n            //     this._div.style.display = \"none\";\r\n            // }\r\n        }));\r\n\r\n        this._pin.show = false;\r\n        this.defaultImgUrl = function () {\r\n            // return XE.HTML.getScriptBaseUrl('plottingSymbol') + 'assets/dialog.png'\r\n            return './assets/dialog.png'\r\n        }\r\n\r\n        this.innerHTML = `<div\r\n        style=\"height:50px;width:100px;left:-76px;\r\n        bottom:0px;position: absolute;color: white;\r\n        background-size: 100% 100%;padding: 5px;\r\n        border-radius: 5px;cursor:pointer;\r\n        background-image:url('` + this.defaultImgUrl() + `');\">\r\n    标记文字\r\n    </div>`\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            this._div.innerHTML = this.innerHTML;\r\n        }));\r\n    }\r\n\r\n    flyTo() {\r\n        this._pin.flyTo();\r\n    }\r\n\r\n    destroy() {\r\n        if (this._div) {\r\n            this._div.parentNode.removeChild(this._div);\r\n        }\r\n        return super.destroy();\r\n    }\r\n}\r\n\r\nGeoPin.defaultOptions = {\r\n    position: [0, 0, 0],\r\n    viewDistance: 100.0,\r\n    scale: 1.0,\r\n    near: 0,\r\n    cameraAttached: false,\r\n    attachedPathGuid: '',\r\n    far: Number.MAX_VALUE,\r\n    disableDepthTestDistance: Number.MAX_VALUE, // POSITIVE_INFINITY转化为json时，会变成null！\r\n    show: false,\r\n    innerHTML: ``,\r\n    defaultImgUrl: Function\r\n};\r\n\r\nGeoPin.registerType(GeoPin, 'GeoPin');\r\n\r\nexport default GeoPin;","import PlotPolygonBase from './base/PlotPolygonBase';\r\n\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoRightAngleFlag extends PlotPolygonBase {\r\n  constructor(earth, guid) {\r\n    super(earth, guid);\r\n\r\n    this._onlyMove = true;\r\n    this._fixedPositionsNum = 2;\r\n\r\n    this._polygonPositions = [];\r\n    this._hpr = [0, 0, 0];\r\n\r\n    this.disposers.push(XE.MVVM.watch(() => {\r\n      // return {\r\n      //     positions: [...this.positions.map(e => [e[0], e[1]])].flat(),\r\n      //     height: this.positions.length > 0 && this.positions[0][2],\r\n      // };\r\n      return [...this.positions.map(e => [...e])];\r\n    }, positions => {\r\n      const l = positions.length;\r\n\r\n      if (l < 2) {\r\n        this._polygonShow = false;\r\n        return;\r\n      }\r\n\r\n      this._polygonPositions.length = 0;\r\n      this._polygonPositions.push(positions[0][0], positions[1][1]);\r\n      this._polygonPositions.push(positions[0][0], positions[0][1]);\r\n      this._polygonPositions.push(positions[1][0], positions[0][1]);\r\n      this._polygonPositions.push(positions[1][0], 0.5 * (positions[0][1] + positions[1][1]));\r\n      const d = positions[1][0] - positions[0][0];\r\n      this._polygonPositions.push(positions[0][0] + 0.01 * d, 0.5 * (positions[0][1] + positions[1][1]));\r\n      this._polygonPositions.push(positions[0][0] + 0.01 * d, positions[1][1]);\r\n\r\n\r\n      this._polygon.positions = this._polygonPositions;\r\n      this._polygon.height = positions[0][2];\r\n\r\n      this._polygonShow = true;\r\n    }));\r\n  }\r\n}\r\n\r\nGeoRightAngleFlag.registerType(GeoRightAngleFlag, 'GeoRightAngleFlag');\r\n\r\nexport default GeoRightAngleFlag;","import PlotPolygonBase from './base/PlotPolygonBase';\r\n\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoCurveFlag extends PlotPolygonBase {\r\n  constructor(earth, guid) {\r\n    super(earth, guid);\r\n\r\n    this._onlyMove = true;\r\n    this._fixedPositionsNum = 2;\r\n\r\n    this._polygonPositions = [];\r\n    this._hpr = [0, 0, 0];\r\n\r\n    this._keyPositions = (new Array(50)).fill(0).map(e => [0, 0, 0]);\r\n\r\n    this._bottomCurcePositions = (new Array(20)).fill(0).map(e => [0, 0, 0]);\r\n    this._sbottomCurcePositions = (new Array(20)).fill(0).map(e => [0, 0, 0]);\r\n    this._tbottomCurcePositions = (new Array(20)).fill(0).map(e => [0, 0, 0]);\r\n    this._fbottomCurcePositions = (new Array(20)).fill(0).map(e => [0, 0, 0]);\r\n\r\n\r\n    this.disposers.push(XE.MVVM.watch(() => {\r\n      return [...this.positions.map(e => [...e])];\r\n    }, positions => {\r\n      const l = positions.length;\r\n\r\n      if (l < 2) {\r\n        this._polygonShow = false;\r\n        return;\r\n      }\r\n\r\n      this._keyPositions[0].splice(0, 3, ...positions[0]);\r\n      this._keyPositions[1].splice(0, 3, ...positions[1]);\r\n\r\n      this._polygonPositions.length = 0;\r\n      this._polygonPositions.push(positions[0][0], positions[1][1]); //第一个点\r\n      this._polygonPositions.push(positions[0][0], positions[0][1]); //第二个点\r\n      const d = positions[1][0] - positions[0][0]; //两点之间的垂直距离\r\n      //this._polygonPositions.push((positions[0][0] + positions[1][0]) * 0.5, positions[0][1] - d * 0.1); //上曲线最低点\r\n\r\n      // 左上角曲线\r\n      const leftBottom = [positions[0][0], positions[0][1], 0];\r\n      const rightBottom = [(positions[0][0] + positions[1][0]) * 0.5, positions[0][1], 0];\r\n      const rightTop = [(positions[0][0] + positions[1][0]) * 0.5 - 2 * d, positions[0][1] - d * 0.8, 0]\r\n      const leftTop = [positions[0][0], positions[0][1] - d, 0];\r\n\r\n      const bottomCenter = Tool.Math.geoLerp(leftBottom, rightBottom, 0.9, this._keyPositions[4]);\r\n      const topCenter = Tool.Math.geoLerp(rightTop, leftTop, 0.9, this._keyPositions[5]);\r\n      const bottomKeyPos = Tool.Math.geoLerp(bottomCenter, topCenter, 0.2, this._keyPositions[6]);\r\n      Tool.Math.Bezier.bezier2(leftBottom, bottomKeyPos, rightBottom, 19, this._bottomCurcePositions);\r\n\r\n      this._bottomCurcePositions.forEach(e => { //第3到22个点\r\n        this._polygonPositions.push(e[0], e[1]);\r\n      });\r\n\r\n      // 右上角曲线\r\n      const sleftBottom = [(positions[0][0] + positions[1][0]) * 0.5, positions[0][1], 0];\r\n      const srightBottom = [positions[1][0], positions[0][1], 0];\r\n      const srightTop = [(positions[0][0] + positions[1][0]) * 0.5 + d, positions[0][1] - d * 0.1 + d, 0]\r\n      const sleftTop = [positions[0][0], positions[0][1] - d, 0];\r\n\r\n      const sbottomCenter = Tool.Math.geoLerp(sleftBottom, srightBottom, 0.1, this._keyPositions[7]);\r\n      const stopCenter = Tool.Math.geoLerp(srightTop, sleftTop, 0.1, this._keyPositions[8]);\r\n      const sbottomKeyPos = Tool.Math.geoLerp(sbottomCenter, stopCenter, 0.2, this._keyPositions[9]);\r\n      Tool.Math.Bezier.bezier2(sleftBottom, sbottomKeyPos, srightBottom, 19, this._sbottomCurcePositions);\r\n\r\n      this._sbottomCurcePositions.forEach(e => { //第3到22个点\r\n        this._polygonPositions.push(e[0], e[1]);\r\n      });\r\n\r\n      this._polygonPositions.push(positions[1][0], positions[0][1]); //第42个点\r\n      this._polygonPositions.push(positions[1][0], 0.5 * (positions[0][1] + positions[1][1])); //第43个点\r\n      // this._polygonPositions.push((positions[0][0] + positions[1][0]) * 0.5, (positions[0][1] + positions[1][1]) * 0.5 - d * 0.1);\r\n\r\n      //右下角曲线\r\n      const tleftBottom = [positions[1][0], 0.5 * (positions[0][1] + positions[1][1]), 0];\r\n      const trightBottom = [(positions[0][0] + positions[1][0]) * 0.5, (positions[0][1] + positions[1][1]) * 0.5, 0];\r\n      const trightTop = [positions[1][0] - d, 0.5 * (positions[0][1] + positions[1][1]) + 0.5 * d, 0]\r\n      const tleftTop = [positions[1][0] - 6 * d, 0.5 * (positions[0][1] + positions[1][1]) + 2*d, 0];\r\n\r\n      const tbottomCenter = Tool.Math.geoLerp(tleftBottom, trightBottom, 0.1, this._keyPositions[7]);\r\n      const ttopCenter = Tool.Math.geoLerp(trightTop, tleftTop, 0.1, this._keyPositions[8]);\r\n      const tbottomKeyPos = Tool.Math.geoLerp(tbottomCenter, ttopCenter, 0.2, this._keyPositions[9]);\r\n      Tool.Math.Bezier.bezier2(tleftBottom, tbottomKeyPos, trightBottom, 19, this._tbottomCurcePositions);\r\n\r\n      this._tbottomCurcePositions.forEach(e => { //第44到64个点\r\n        this._polygonPositions.push(e[0], e[1]);\r\n      });\r\n\r\n      // this._polygonPositions.push(positions[0][0] + 0.01 * d, 0.5 * (positions[0][1] + positions[1][1]));\r\n\r\n\r\n      //左下角曲线\r\n      const fleftBottom = [(positions[0][0] + positions[1][0]) * 0.5, (positions[0][1] + positions[1][1]) * 0.5, 0];\r\n      const frightBottom = [positions[0][0] + 0.01 * d, 0.5 * (positions[0][1] + positions[1][1]), 0];\r\n      const frightTop = [(positions[0][0] + positions[1][0]) * 0.5 + 5 * d, (positions[0][1] + positions[1][1]) * 0.5 - d * 1.1, 0]\r\n      const fleftTop = [positions[0][0] + 1.01 * d, 0.5 * (positions[0][1] + positions[1][1]) - d, 0];\r\n\r\n      const fbottomCenter = Tool.Math.geoLerp(fleftBottom, frightBottom, 0.9, this._keyPositions[4]);\r\n      const ftopCenter = Tool.Math.geoLerp(frightTop, fleftTop, 0.9, this._keyPositions[5]);\r\n      const fbottomKeyPos = Tool.Math.geoLerp(fbottomCenter, ftopCenter, 0.2, this._keyPositions[6]);\r\n      Tool.Math.Bezier.bezier2(fleftBottom, fbottomKeyPos, frightBottom, 19, this._fbottomCurcePositions);\r\n\r\n      this._fbottomCurcePositions.forEach(e => { //第65到85个点\r\n        this._polygonPositions.push(e[0], e[1]);\r\n      });\r\n\r\n      this._polygonPositions.push(positions[0][0] + 0.01 * d, positions[1][1]);\r\n\r\n\r\n      this._polygon.positions = this._polygonPositions;\r\n      this._polygon.height = positions[0][2];\r\n\r\n      this._polygonShow = true;\r\n    }));\r\n  }\r\n}\r\n\r\nGeoCurveFlag.registerType(GeoCurveFlag, 'GeoCurveFlag');\r\n\r\nexport default GeoCurveFlag;","import PlotPolylineBase from './base/PlotPolylineBase';\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoPolyline extends PlotPolylineBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return [...this.positions.map(e => [...e])];\r\n        }, positions => {\r\n            this._polyline.positions = positions;\r\n        }));\r\n    }\r\n}\r\n\r\nGeoPolyline.registerType(GeoPolyline, 'GeoPolyline');\r\n\r\nexport default GeoPolyline;\r\n","import PlotPolylineBase from './base/PlotPolylineBase';\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoArc extends PlotPolylineBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._onlyMove = true;\r\n        this._fixedPositionsNum = 3; // 只有三个点\r\n\r\n        this._polylinePositions = new Array(360).fill(0).map(e => [0, 0, 0]);\r\n        this._pgPositions = [];\r\n        this._nextPosition = [0, 0, 0];\r\n\r\n        this.disposers.push(\r\n            XE.MVVM.watch(\r\n                () => {\r\n                    return [...this.positions.map(e => [...e])];\r\n                },\r\n                positions => {\r\n                    const l = positions.length;\r\n\r\n                    if (l < 3) {\r\n                        this._polylineShow = false;\r\n                        return;\r\n                    }\r\n\r\n                    const d = Tool.Math.geoDistance(positions[0], positions[1]);\r\n\r\n                    this._polylinePositions.length = 0;\r\n                    this._polylinePositions.push([...positions[1]]);\r\n\r\n                    const hpr1 = Tool.Math.hpr(positions[0], positions[1]);\r\n                    const hpr2 = Tool.Math.hpr(positions[0], positions[2]);\r\n\r\n                    const slice = 360;\r\n                    var angle = 0;\r\n                    if (hpr1[0] >= hpr2[0]) {\r\n                        angle = (hpr1[0] - hpr2[0]) * (180 / Math.PI);\r\n                    } else {\r\n                        angle = (hpr1[0] - hpr2[0] + 2 * Math.PI) * (180 / Math.PI);\r\n                    }\r\n\r\n                    for (var i = 0; i < angle; i++) {\r\n                        Tool.Math.geoMove(\r\n                            positions[0],\r\n                            (hpr1[0] -= Math.PI / 180),\r\n                            d,\r\n                            this._nextPosition\r\n                        );\r\n                        this._polylinePositions.push([...this._nextPosition]);\r\n                    }\r\n\r\n                    this._polyline.positions = this._polylinePositions;\r\n\r\n                    this._polylineShow = true;\r\n                }\r\n            )\r\n        );\r\n    }\r\n}\r\n\r\nGeoArc.registerType(GeoArc, 'GeoArc');\r\n\r\nexport default GeoArc;\r\n","import PlotPolylineBase from './base/PlotPolylineBase';\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoBezier2 extends PlotPolylineBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._onlyMove = true;\r\n        this._fixedPositionsNum = 3;\r\n\r\n        this._bezierPositions = (new Array(20)).fill(0).map(e => [0, 0, 0]);\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return [...this.positions.map(e => [...e])];\r\n        }, positions => {\r\n            const l = positions.length;\r\n\r\n            if (l < 3 || Tool.Math.hasSamePosition(positions)) {\r\n                this._polylineShow = false;\r\n                return;\r\n            }\r\n\r\n            Tool.Math.Bezier.bezier2(positions[0], positions[1], positions[2], 19, this._bezierPositions);\r\n\r\n            this._polyline.positions = this._bezierPositions;\r\n\r\n            this._polylineShow = true;\r\n        }));\r\n    }\r\n}\r\n\r\nGeoBezier2.registerType(GeoBezier2, 'GeoBezier2');\r\n\r\nexport default GeoBezier2;\r\n","import PlotPolylineBase from './base/PlotPolylineBase';\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoBezier3 extends PlotPolylineBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._onlyMove = true;\r\n        this._fixedPositionsNum = 4;\r\n\r\n        this._bezierPositions = (new Array(20)).fill(0).map(e => [0, 0, 0]);\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return [...this.positions.map(e => [...e])];\r\n        }, positions => {\r\n            const l = positions.length;\r\n\r\n            if (l < 4 || Tool.Math.hasSamePosition(positions)) {\r\n                this._polylineShow = false;\r\n                return;\r\n            }\r\n\r\n            Tool.Math.Bezier.bezier3(positions[0], positions[1], positions[2], positions[3], 19, this._bezierPositions);\r\n\r\n            this._polyline.positions = this._bezierPositions;\r\n\r\n            this._polylineShow = true;\r\n        }));\r\n    }\r\n}\r\n\r\nGeoBezier3.registerType(GeoBezier3, 'GeoBezier3');\r\n\r\nexport default GeoBezier3;\r\n","import PlotPolygonBase from './base/PlotPolygonBase';\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoSector extends PlotPolygonBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._onlyMove = true;\r\n        this._fixedPositionsNum = 3;\r\n\r\n        this._polygonPositions = new Array(360).fill(0).map(e => [0, 0, 0]);\r\n        this._pgPositions = [];\r\n        this._nextPosition = [0, 0, 0];\r\n\r\n        this.disposers.push(\r\n            XE.MVVM.watch(\r\n                () => {\r\n                    return [...this.positions.map(e => [...e])];\r\n                },\r\n                positions => {\r\n                    const l = positions.length;\r\n\r\n                    if (l < 3) {\r\n                        this._polygonShow = false;\r\n                        return;\r\n                    }\r\n\r\n                    const d = Tool.Math.geoDistance(positions[0], positions[1]);\r\n\r\n                    this._polygonPositions.length = 0;\r\n                    this._polygonPositions.push([...positions[0]]);\r\n                    this._polygonPositions.push([...positions[1]]);\r\n\r\n                    const hpr1 = Tool.Math.hpr(positions[0], positions[1]);\r\n                    const hpr2 = Tool.Math.hpr(positions[0], positions[2]);\r\n                    if (!hpr1 || !hpr2) {\r\n                        return;\r\n                    }\r\n\r\n                    const slice = 360;\r\n                    var angle = 0;\r\n                    if (hpr1[0] >= hpr2[0]) {\r\n                        angle = (hpr1[0] - hpr2[0]) * (180 / Math.PI);\r\n                    } else {\r\n                        angle = (hpr1[0] - hpr2[0] + 2 * Math.PI) * (180 / Math.PI);\r\n                    }\r\n\r\n                    for (var i = 0; i < angle; i++) {\r\n                        Tool.Math.geoMove(\r\n                            positions[0],\r\n                            (hpr1[0] -= Math.PI / 180),\r\n                            d,\r\n                            this._nextPosition\r\n                        );\r\n                        this._polygonPositions.push([...this._nextPosition]);\r\n                    }\r\n\r\n                    this._pgPositions.length = 0;\r\n                    this._polygonPositions.forEach(e => {\r\n                        this._pgPositions.push(e[0], e[1]);\r\n                    });\r\n\r\n                    this._polygon.positions = this._pgPositions;\r\n                    this._polygon.height = positions[0][2];\r\n\r\n                    this._polygonShow = true;\r\n                }\r\n            )\r\n        );\r\n    }\r\n}\r\n\r\nGeoSector.registerType(GeoSector, 'GeoSector');\r\n\r\nexport default GeoSector;\r\n","import PlotPolygonBase from './base/PlotPolygonBase';\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoSector2 extends PlotPolygonBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._onlyMove = true;\r\n        this._fixedPositionsNum = 1;\r\n\r\n        this._polygonPositions = new Array(360).fill(0).map(e => [0, 0, 0]);\r\n        this._pgPositions = [];\r\n        this._nextPosition = [0, 0, 0];\r\n\r\n        this.disposers.push(\r\n            XE.MVVM.watch(\r\n                () => ({\r\n                    positions: [...this.positions.map(e => [...e])],\r\n                    radius: this.radius,\r\n                    startAngle: this.startAngle,\r\n                    angle: this.angle,\r\n                }),\r\n                ({positions, radius, startAngle, angle }) => {\r\n                    const l = positions.length;\r\n\r\n                    if (l <= 0) {\r\n                        this._polygonShow = false;\r\n                        return;\r\n                    }\r\n\r\n                    if (angle <= 0 || radius <= 0) {\r\n                        return;\r\n                    }\r\n\r\n                    const d = radius;\r\n\r\n                    this._polygonPositions.length = 0;\r\n                    this._polygonPositions.push([...positions[0]]);\r\n                    // this._polygonPositions.push([...positions[1]]);\r\n\r\n                    // const hpr1 = Tool.Math.hpr(positions[0], positions[1]);\r\n                    // const hpr2 = Tool.Math.hpr(positions[0], positions[2]);\r\n                    // if (!hpr1 || !hpr2) {\r\n                    //     return;\r\n                    // }\r\n\r\n                    // var angle = 0;\r\n                    // if (hpr1[0] >= hpr2[0]) {\r\n                    //     angle = (hpr1[0] - hpr2[0]) * (180 / Math.PI);\r\n                    // } else {\r\n                    //     angle = (hpr1[0] - hpr2[0] + 2 * Math.PI) * (180 / Math.PI);\r\n                    // }\r\n\r\n                    // for (var i = 0; i < angle; i++) {\r\n                    //     Tool.Math.geoMove(\r\n                    //         positions[0],\r\n                    //         (hpr1[0] -= Math.PI / 180),\r\n                    //         d,\r\n                    //         this._nextPosition\r\n                    //     );\r\n                    //     this._polygonPositions.push([...this._nextPosition]);\r\n                    // }\r\n\r\n                    const sliceAngle = Math.PI / 180;\r\n\r\n                    for (let i = 0; i < angle; ++i) {\r\n                        Tool.Math.geoMove(\r\n                            positions[0],\r\n\r\n                        )\r\n                    }\r\n\r\n                    const center = positions[0];\r\n                    let sa = startAngle;\r\n                    const stopAngle = startAngle + angle;\r\n                    while (sa < stopAngle) {\r\n                        Tool.Math.geoMove(center, sa, radius, this._nextPosition);\r\n                        this._polygonPositions.push([...this._nextPosition]);\r\n                        sa += sliceAngle;\r\n                    }\r\n                    Tool.Math.geoMove(center, stopAngle, radius, this._nextPosition);\r\n                    this._polygonPositions.push([...this._nextPosition]);\r\n\r\n                    this._pgPositions.length = 0;\r\n                    this._polygonPositions.forEach(e => {\r\n                        this._pgPositions.push(e[0], e[1]);\r\n                    });\r\n\r\n                    this._polygon.positions = this._pgPositions;\r\n                    this._polygon.height = positions[0][2];\r\n\r\n                    this._polygonShow = true;\r\n                }\r\n            )\r\n        );\r\n    }\r\n}\r\n\r\nGeoSector2.defaultOptions = {\r\n    radius: 200000,\r\n    startAngle: 0, // 方位角\r\n    angle: 60 * Math.PI / 180, // 张角\r\n};\r\n\r\nGeoSector2.registerType(GeoSector2, 'GeoSector2');\r\n\r\nexport default GeoSector2;\r\n","import PlotPolylineBase from './base/PlotPolylineBase';\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoParallelSearch extends PlotPolylineBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._leftArrowPosition = [0, 0, 0];\r\n        this._rightArrowPosition = [0, 0, 0];\r\n        this._leftArrowPosition2 = [0, 0, 0];\r\n        this._rightArrowPosition2 = [0, 0, 0];\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return [...this.positions.map(e => [...e])];\r\n        }, positions => {\r\n            const l = positions.length;\r\n            const d = Tool.Math.distance(positions);\r\n\r\n            if (l < 2 || Tool.Math.hasSamePosition(positions)) {\r\n                this._polylineShow = false;\r\n                return;\r\n            }\r\n\r\n            if (l > 2) {\r\n                for (var i = l - 1; i > 0; i--) {\r\n                    if (i > 1) {\r\n                        if (i % 2 == 0) {\r\n                            positions[i][0] = positions[i - 1][0];\r\n                        } else {\r\n                            positions[i][1] = positions[i - 1][1];\r\n                        }\r\n                    }\r\n                    const hpr = Tool.Math.hpr(positions[i], positions[i - 1]);\r\n                    if (!hpr) {\r\n                        return;\r\n                    }\r\n                    Tool.Math.geoMove(positions[i], hpr[0] + Math.PI / 6, Tool.Math.distance(positions[i - 1], positions[i]) * 0.1, this._leftArrowPosition);\r\n                    Tool.Math.geoMove(positions[i], hpr[0] - Math.PI / 6, Tool.Math.distance(positions[i - 1], positions[i]) * 0.1, this._rightArrowPosition);\r\n                    positions.push([...positions[i]]);\r\n                    positions.push([...this._leftArrowPosition]);\r\n                    positions.push([...positions[i]]);\r\n                    positions.push([...this._rightArrowPosition]);\r\n                    positions.push([...positions[i]]);\r\n                }\r\n            }\r\n\r\n            this._polyline.positions = positions;\r\n\r\n            this._polylineShow = true;\r\n        }));\r\n    }\r\n}\r\n\r\nGeoParallelSearch.registerType(GeoParallelSearch, 'GeoParallelSearch');\r\n\r\nexport default GeoParallelSearch;\r\n","import PlotPolylineBase from './base/PlotPolylineBase';\r\n\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoCurve extends PlotPolylineBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._positions = [];\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return {\r\n                positions: [...this.positions.map(e => [...e])],\r\n                slices: this.slices,\r\n            }\r\n        }, ({ positions, slices }) => {\r\n            const l = positions.length;\r\n\r\n            if (l < 2) {\r\n                this._polylineShow = false;\r\n                return;\r\n            }\r\n\r\n            this._positions.length = 0;\r\n            Tool.Math.interpolatePositions(positions, slices, false, this._positions);\r\n\r\n            this._polyline.positions = this._positions;\r\n\r\n            this._polylineShow = true;\r\n        }));\r\n    }\r\n}\r\n\r\nGeoCurve.defaultOptions = {\r\n    /**\r\n     * 曲线分段数\r\n     * @type {number}\r\n     * @instance\r\n     * @default 100\r\n     * @memberof XE.Obj.Plots.GeoCurve\r\n     */\r\n    slices: 100\r\n};\r\n\r\nGeoCurve.registerType(GeoCurve, 'GeoCurve');\r\n\r\nexport default GeoCurve;\r\n","let Tool = XE.Tool;\r\n//通过总长、比例这些条件，得到箭头的点位信息\r\nexport default function getArrowHead( length, arrowMaxHeightScale, minWidth, arrowWingWidthScale, positionsCartesian3, positionsRadian, arrowHead){\r\n    //默认属性：箭头头部有0.3的长度在腰部下方\r\n    const arrowWingUnderScale = 0.3;\r\n    //首先判断箭头头部的长度\r\n    let height = length * arrowMaxHeightScale;\r\n    let topHeight = height * (1 - arrowWingUnderScale);\r\n     \r\n    let distance = Cesium.Cartesian3.distance( positionsCartesian3[0], positionsCartesian3[1]);\r\n    let notMax = false;\r\n    if(distance < topHeight){\r\n \r\n        topHeight = distance;\r\n        height = topHeight / (1 - arrowWingUnderScale);\r\n        notMax = true;\r\n    }\r\n    //let bottomHeight = topHeight * (1 - arrowWingUnderScale) / arrowWingUnderScale;\r\n \r\n    //获取最后一点向上一点的heading方向\r\n    let heading = Tool.Math.hpr( positionsRadian[1], positionsRadian[0], [0,0,0])[0];\r\n    let waistCenter = Tool.Math.geoMove( positionsRadian[1], heading, topHeight, [0,0,0]);\r\n    let wingCenter = Tool.Math.geoMove( positionsRadian[1], heading, height, [0,0,0]);\r\n \r\n    //计算这些点向着最后一个点的切线方向\r\n    let waistCenterHeading = Tool.Math.hpr( waistCenter, positionsRadian[1], [0,0,0])[0];\r\n    let wingCenterHeading = Tool.Math.hpr( wingCenter, positionsRadian[1], [0,0,0])[0];\r\n \r\n    //对于两边方向进行平移，获得箭头的目标点的数组\r\n    arrowHead[0] = Tool.Math.geoMove( waistCenter, waistCenterHeading - Cesium.Math.PI_OVER_TWO, minWidth, [0,0,0]);\r\n    arrowHead[4] =  Tool.Math.geoMove( waistCenter, waistCenterHeading + Cesium.Math.PI_OVER_TWO, minWidth, [0,0,0]);\r\n    arrowHead[1] = Tool.Math.geoMove( wingCenter, wingCenterHeading - Cesium.Math.PI_OVER_TWO, minWidth*arrowWingWidthScale, [0,0,0]);\r\n    arrowHead[3] = Tool.Math.geoMove( wingCenter, wingCenterHeading + Cesium.Math.PI_OVER_TWO, minWidth*arrowWingWidthScale, [0,0,0]);\r\n    arrowHead[2] = [...positionsRadian[1]];\r\n \r\n    return notMax;\r\n}","import PlotPolygonBase from './base/PlotPolygonBase';\r\nimport getArrowHead from './math/arrowHead.js';\r\n\r\nconst Tool = XE.Tool;\r\n\r\n//这是一个平尾箭头\r\nclass GeoArrow extends PlotPolygonBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n        \r\n        this._onlyMove = true;\r\n        \r\n        this._polygonPositions = [];\r\n\r\n        this.a = {b:{c:5},bb:5};\r\n        XE.MVVM.extend(this, { a: this.a }, { a: XE.MVVM.reaction.observable.ref });\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return this.a;\r\n        }, () => {\r\n            // console.log('this.a的数据改变了');\r\n        }));\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => \r\n        {\r\n            //XE.MVVM.extend(x, { a: '' }, { a: XE.MVVM.reaction.observable.ref })\r\n            return {\r\n                minWidthScale : this.minWidthScale,\r\n                dynamicWidthScale : this.dynamicWidthScale,\r\n                arrowMaxHeightScale : this.arrowMaxHeightScale,\r\n                arrowWingWidthScale : this.arrowWingWidthScale\r\n            };\r\n        }, () => {\r\n            this.change(this.positions, this.minWidthScale, this.dynamicWidthScale, this.arrowMaxHeightScale, this.arrowWingWidthScale);\r\n        }));\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return [...this.positions.map(e => [...e])];\r\n        }, () => {\r\n            this.change(this.positions, this.minWidthScale, this.dynamicWidthScale, this.arrowMaxHeightScale, this.arrowWingWidthScale);\r\n        }));\r\n\r\n    }\r\n    \r\n    change( p, minWidthScale, dynamicWidthScale, arrowMaxHeightScale, arrowWingWidthScale){\r\n        \r\n        let positions = [...p];\r\n        const l = positions.length;\r\n        if(l < 2 || isEquals(positions[l-1],positions[l-2])){\r\n            return;\r\n        }\r\n        \r\n        let positionsCartesian3 = positions.map( e=>{\r\n            return Cesium.Cartesian3.fromRadians( ...e, null, new Cesium.Cartesian3())\r\n        });\r\n        \r\n        this._polygonPositions.length = 0;\r\n        \r\n\r\n        let last,next,current,hpr=[0,0,0];\r\n        let d1, d2,index,result;\r\n        //首先获得各个顶点的切线方向(第一个和最后一个我们使用这个点向着临近点的heading ，中间的我们计算这个点向两边的heading，取平均值)\r\n        let centerDirection = (new Array(l)).fill(0).map( ( e, k)=>{\r\n\r\n            last = positions[k-1];\r\n            next = positions[k+1];\r\n            current = positions[k];\r\n\r\n            d1 = last ? Tool.Math.hpr( current, last, hpr)[0] : 0;\r\n            d2 = next ? Tool.Math.hpr( current, next, hpr)[0] : 0;\r\n\r\n            index = d1 && d2 ? 2 : 1;\r\n            //我们要根据d1、d2的大小关系去计算最后的朝向问题\r\n            result = (d1+ d2)/index;\r\n            result = d1 > d2 ? result : result - Cesium.Math.PI;\r\n            \r\n            return result < 0 ? result+Cesium.Math.TWO_PI : result;\r\n            \r\n        });\r\n\r\n        //接下来计算距离行程\r\n        let length = 0;\r\n        let mileages = [];\r\n        positionsCartesian3.forEach( (e, i)=>{\r\n            last = positionsCartesian3[i-1] || e;\r\n            next = e;\r\n            \r\n            length += Cesium.Cartesian3.distance(last, next);\r\n            mileages.push( length);\r\n        });\r\n\r\n        mileages = mileages.map( e=>{\r\n            return length-e;\r\n        })\r\n        \r\n        //mileages.reverse();\r\n\r\n        //接下来我们设置参数，获得曲线向两边平移的距离\r\n        minWidthScale /=2;//这也是箭头细腰部分的宽度\r\n        dynamicWidthScale /= 2;\r\n        const dynamicWidthMax = dynamicWidthScale * length;\r\n        const minWidth = minWidthScale * length;\r\n\r\n        let positionsMove = (new Array( mileages.length)).fill(0).map( ( e, k)=>{\r\n            \r\n            return minWidth + dynamicWidthMax * mileages[k] / length;\r\n        });\r\n\r\n        //接下来我们计算箭头部分\r\n\r\n        let arrowHead = [];\r\n        let notMax =  getArrowHead( length, arrowMaxHeightScale, minWidth, arrowWingWidthScale,\r\n            positionsCartesian3.slice(-2), positions.slice(-2), arrowHead);\r\n        \r\n        //让各个点按照所给的方向进行平移\r\n        let left = [],right = [];\r\n        positions.forEach( (e,k)=>{\r\n            \r\n            if( k==0 || k==l-1 ){\r\n\r\n                left.push( Tool.Math.geoMove( e, centerDirection[k] + Cesium.Math.PI_OVER_TWO, positionsMove[k]));\r\n                right.push( Tool.Math.geoMove( e, centerDirection[k] - Cesium.Math.PI_OVER_TWO, positionsMove[k]));\r\n            }else{\r\n                \r\n                left.push( Tool.Math.geoMove( e, centerDirection[k] - Cesium.Math.PI, positionsMove[k]));\r\n                right.push( Tool.Math.geoMove( e, centerDirection[k], positionsMove[k]));\r\n            }\r\n        });\r\n        left.pop();\r\n        right.pop();\r\n        if( notMax){\r\n            left.pop();\r\n            right.pop();\r\n        }\r\n        left.push(arrowHead[0]);\r\n        right.push(arrowHead[arrowHead.length-1]);\r\n        \r\n        let leftCurve = Tool.Math.interpolatePositions(left, l*20, false, []);\r\n        let rightCurve = Tool.Math.interpolatePositions(right, l*20, false, []);\r\n        \r\n        leftCurve.forEach( e=>{\r\n            \r\n            this._polygonPositions.push( e[0],e[1]);\r\n        });\r\n        \r\n        arrowHead.forEach( e=>{\r\n            this._polygonPositions.push( e[0],e[1]);\r\n        })\r\n        \r\n\r\n        for(let i = rightCurve.length-1; i >= 0; i--){\r\n            this._polygonPositions.push( rightCurve[i][0], rightCurve[i][1]);\r\n        }\r\n        \r\n        this._polygon.positions = this._polygonPositions;\r\n        this._polygon.height = positions[0][2];\r\n\r\n        this._polygonShow = true;\r\n    }\r\n}\r\n\r\nGeoArrow.registerType(GeoArrow, 'GeoArrow');\r\n\r\n//涉及到toJson fromJson，将数据导入、导出\r\n\r\nGeoArrow.defaultOptions = {\r\n    // positions: [[0,0,0],[1,0,0],[1,1,0]],\r\n    minWidthScale: 0.06,\r\n    dynamicWidthScale: 0.1,\r\n    arrowMaxHeightScale: 0.15,\r\n    arrowWingWidthScale: 2.0,\r\n};\r\n\r\nexport default GeoArrow;\r\n\r\n//判断两个数组内的数字是否相同\r\nlet index;\r\nfunction isEquals( left, right){\r\n    if(!left || !right){\r\n        return false;\r\n    }\r\n    index = 0;\r\n    for(let i=0; i<left.length; i++){\r\n        index = left[i] == right[i] ? 0 : 1;\r\n        if(index > 0){\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}","import PlotPolygonBase from './base/PlotPolygonBase';\r\nimport getArrowHead from './math/arrowHead.js';\r\nconst Tool = XE.Tool;\r\n\r\n//这是一个简单的单箭头，有三种模式(燕尾尖头、平尾直身、平尾尖头)\r\nclass GeoSimpleArrow extends PlotPolygonBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n        \r\n        this._onlyMove = true;\r\n        \r\n        this._polygonPositions = [];\r\n        this._fixedPositionsNum = 2;\r\n\r\n        this.disposers.push(XE.MVVM.watch( ()=>{\r\n            return {\r\n                showType: this.showType,\r\n            }\r\n        }, ()=>this.changeShowType()))\r\n\r\n        this.disposers.push(XE.MVVM.watch(() =>\r\n        {\r\n            return {\r\n                minWidthScale : this.minWidthScale,\r\n                dynamicWidthScale : this.dynamicWidthScale,\r\n                arrowMaxHeightScale : this.arrowMaxHeightScale,\r\n                arrowWingWidthScale : this.arrowWingWidthScale\r\n            };\r\n        }, () => {\r\n            this.change(this.positions, this.minWidthScale, this.dynamicWidthScale, this.arrowMaxHeightScale, this.arrowWingWidthScale);\r\n        }));\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            return [...this.positions.map(e => [...e])];\r\n        }, () => {\r\n            this.change(this.positions, this.minWidthScale, this.dynamicWidthScale, this.arrowMaxHeightScale, this.arrowWingWidthScale);\r\n        }));\r\n\r\n    }\r\n\r\n    changeShowType(){\r\n        let param = params[this.showType];\r\n        Object.keys( param).forEach( key=>{\r\n            this[key] = param[key];\r\n        })\r\n    }\r\n    \r\n    change(){\r\n        \r\n        const l = this.positions.length;\r\n        if(l < 2 || isEquals(this.positions[0],this.positions[1])){\r\n            return;\r\n        }\r\n        \r\n        let positionsC = this.positions.map( e=>{\r\n            return Cesium.Cartesian3.fromRadians( ...e, null, new Cesium.Cartesian3())\r\n        });\r\n        \r\n        this._polygonPositions.length = 0;\r\n        \r\n        //根据参数，获得两端的位置\r\n        let length = Tool.Math.geoDistance( ...this.positions);\r\n        let heading = Tool.Math.hpr(...this.positions)[0];\r\n        let neckCenter = Tool.Math.geoMove( this.positions[0], heading, length*(1-this.arrowMaxHeightScale));\r\n\r\n        let maxWidthScale = (this.dynamicWidthScale+this.minWidthScale)/2;\r\n        let minWidthScale = this.minWidthScale/2;\r\n        let tailSide = [\r\n            Tool.Math.geoMove( this.positions[0], heading + Cesium.Math.PI_OVER_TWO, length*maxWidthScale),\r\n            Tool.Math.geoMove( this.positions[0], heading - Cesium.Math.PI_OVER_TWO, length*maxWidthScale)\r\n        ];\r\n        \r\n        let neckHeading = Tool.Math.hpr(neckCenter, this.positions[1])[0];\r\n        let neckSide = [\r\n            Tool.Math.geoMove( neckCenter, neckHeading + Cesium.Math.PI_OVER_TWO, length*minWidthScale),\r\n            Tool.Math.geoMove( neckCenter, neckHeading - Cesium.Math.PI_OVER_TWO, length*minWidthScale)\r\n        ];\r\n\r\n        let tailHeading = [\r\n            Tool.Math.hpr(tailSide[0], neckSide[0])[0],\r\n            Tool.Math.hpr(tailSide[1], neckSide[1])[0]\r\n        ];\r\n        let distances = [\r\n            Tool.Math.geoDistance(neckSide[0], tailSide[0]),\r\n            Tool.Math.geoDistance(neckSide[1], tailSide[1])\r\n        ];\r\n        //对于两边进行插值\r\n        let positions = [[],[]];\r\n        for( let i = 0; i < 20 ; i++){\r\n            positions[0].push( Tool.Math.geoMove( tailSide[0], tailHeading[0], i * distances[0]/20));\r\n            positions[1].push( Tool.Math.geoMove( tailSide[1], tailHeading[1], i * distances[1]/20));\r\n        }\r\n        if( this.tail){\r\n            //如果有尾，首先将尾放进去\r\n            let tailCenter = Tool.Math.geoMove( this.positions[0], heading, this.tailHeightScale * length);\r\n            this._polygonPositions.push( tailCenter[0], tailCenter[1]);\r\n        }\r\n        positions[0].forEach( e=>{\r\n            \r\n            this._polygonPositions.push( e[0],e[1]);\r\n        });\r\n\r\n        //得到箭头并放进去\r\n        let arrowHead = [];\r\n        getArrowHead( length, this.arrowMaxHeightScale, this.minWidthScale/2, this.arrowWingWidthScale, \r\n            positionsC, this.positions, arrowHead);\r\n        for(let i = arrowHead.length-1; i >= 0; i--){\r\n            this._polygonPositions.push( arrowHead[i][0], arrowHead[i][1]);\r\n        }\r\n\r\n        for(let i = positions[1].length-1; i >= 0; i--){\r\n            this._polygonPositions.push( positions[1][i][0], positions[1][i][1]);\r\n        }\r\n        \r\n        this._polygon.positions = this._polygonPositions;\r\n        this._polygon.height = this.positions[0][2];\r\n\r\n        this._polygonShow = true;\r\n    }\r\n}\r\n\r\nconst params = {\r\n    forkedTail:{//燕尾\r\n        minWidthScale: 0.06,\r\n        dynamicWidthScale: 0.1,\r\n        arrowMaxHeightScale: 0.15,\r\n        arrowWingWidthScale: 2.0,\r\n        tail: true,\r\n    },\r\n    cusp:{//尖头：接近箭头的地方比尾部细\r\n        minWidthScale: 0.06,\r\n        dynamicWidthScale: 0.1,\r\n        arrowMaxHeightScale: 0.15,\r\n        arrowWingWidthScale: 2.0,\r\n        tail: false,\r\n    },\r\n    parallel:{//平行：接近箭头的地方和尾部一样宽\r\n        minWidthScale: 0.12,\r\n        dynamicWidthScale: 0.0,\r\n        arrowMaxHeightScale: 0.08,\r\n        arrowWingWidthScale: 2.0,\r\n        tail: false,\r\n    }\r\n}\r\n\r\nGeoSimpleArrow.defaultOptions = {\r\n    showType: \"forkedTail\",\r\n    positions: [],\r\n    tailHeightScale: 0.15,\r\n    ...params.forkedTail,\r\n};\r\n\r\nGeoSimpleArrow.registerType(GeoSimpleArrow, 'GeoSimpleArrow');\r\nexport default GeoSimpleArrow;\r\n\r\n//判断两个数组内的数字是否相同\r\nlet index;\r\nfunction isEquals( left, right){\r\n    if(!left || !right){\r\n        return false;\r\n    }\r\n    index = 0;\r\n    for(let i=0; i<left.length; i++){\r\n        index = left[i] == right[i] ? 0 : 1;\r\n        if(index > 0){\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}","//这个专为烟雾等效果\r\n\r\nlet gravityScratch = new Cesium.Cartesian3();\r\nconst Tool = XE.Tool;\r\nclass ParticleSystem extends XE.Core.XbsjCzmObj{\r\n    \r\n    constructor( earth, guid){\r\n        super(earth, guid);\r\n        this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPositionEditing(this._earth, this, {\r\n            positionEditingProperty: 'positionEditing',\r\n        }));\r\n\r\n        this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPositionPicking(this._earth, this, {\r\n            positionPickingProperty: 'creating',\r\n        }));\r\n        this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerRotationEditing(this._earth, this, {\r\n            rotationEditingProperty: 'rotationEditing',\r\n        }));\r\n        this._viewer = earth.czm.viewer;\r\n        \r\n        let position = new Cesium.Cartesian3();\r\n        Cesium.Cartesian3.fromRadians( ...this.position, null, position);\r\n        this._modelMatrix = Cesium.Transforms.eastNorthUpToFixedFrame( position);\r\n        this._updateCallback = ()=>{};\r\n\r\n        this._particleSystem = new Cesium.ParticleSystem({\r\n            \r\n            image: this.image,\r\n            show: this.show && this.enabled,\r\n\r\n            startColor: new Cesium.Color( this.startColor[0], this.startColor[1], this.startColor[2], this.startColor[3]),\r\n            endColor: new Cesium.Color( this.endColor[0], this.endColor[1], this.endColor[2], this.endColor[3]),\r\n\r\n            startScale: this.startScale,\r\n            endScale: this.endScale,\r\n\r\n            minimumParticleLife: this.minimumParticleLife,\r\n            maximumParticleLife: this.maximumParticleLife,\r\n\r\n            minimumSpeed: this.minimumSpeed,\r\n            maximumSpeed: this.maximumSpeed,\r\n\r\n            imageSize: new Cesium.Cartesian2(\r\n                this.particleSize,\r\n                this.particleSize\r\n            ),\r\n\r\n            emissionRate: this.emissionRate,\r\n\r\n            lifetime: 16.0,\r\n            modelMatrix: this._modelMatrix,\r\n\r\n            emitterModelMatrix: Cesium.Matrix4.IDENTITY,\r\n\r\n            emitter: new Cesium.CircleEmitter(2),\r\n\r\n            updateCallback: this._updateCallback\r\n        });\r\n        this._viewer.scene.primitives.add( this._particleSystem);\r\n\r\n        this.disposers.push(() => {\r\n            if (this._particleSystem) {\r\n                this._viewer.scene.primitives.remove(this._particleSystem)\r\n                this._particleSystem = undefined;\r\n            }\r\n        });\r\n        \r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            \r\n            return {\r\n                startColor:     [...this.startColor],\r\n                endColor:       [...this.endColor],\r\n                image:          this.image,\r\n                emissionRate:   this.emissionRate,\r\n                maximumSpeed:   this.maximumSpeed,\r\n                minimumSpeed:   this.minimumSpeed,\r\n                \r\n                minimumImageSize:   this.minimumImageSize,\r\n                maximumImageSize:   this.maximumImageSize,\r\n                minimumParticleLife: this.minimumParticleLife,\r\n                maximumParticleLife: this.maximumParticleLife,\r\n                show: this.show && this.enabled,\r\n            }\r\n        }, () => this.update()));\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            \r\n            return {\r\n                image:          this.image,\r\n            }\r\n        }, () => this.updateParticleSystem()));\r\n\r\n        this.disposers.push(XE.MVVM.watch( ()=>{\r\n\r\n            return {\r\n                particleSize:   this.particleSize,\r\n            }\r\n        }, ()=>  this.updateParticleSize() ));\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            \r\n            return [...this.position,...this.rotation];\r\n        }, () => this.updateMatrix()));\r\n\r\n        this.disposers.push(XE.MVVM.watch( ()=>{\r\n            return {gravity: this.gravity}\r\n        }, ()=>{\r\n            this._particleSystem.updateCallback = this.updateGravity(this.gravity);\r\n        }));\r\n        \r\n        this.disposers.push(XE.MVVM.watch( ()=>{\r\n            return {\r\n                emitterRadius:  this.emitterRadius,\r\n                emitterAngle:   this.emitterAngle,\r\n                emitterType:    this.emitterType\r\n            }\r\n        }, ()=>this.updateEmitter() ));\r\n    }\r\n\r\n    toBeFountain(){\r\n        let param = params['fountain'];\r\n        this.changeShowType(param);\r\n    }\r\n    toBeSmoke(){\r\n        let param = params['smoke'];\r\n        this.changeShowType(param);\r\n    }\r\n    changeShowType(param){\r\n        Object.keys( param).forEach( key=>{\r\n            this[key] = param[key];\r\n        });\r\n    }\r\n\r\n    updateMatrix(){\r\n        let position = new Cesium.Cartesian3();\r\n        let rotateMatrix = new Cesium.Matrix4();\r\n        Cesium.Cartesian3.fromRadians( ...this.position, null, position);\r\n\r\n        if( !position.x && !position.y && !position.z) return;\r\n\r\n        this._modelMatrix = Cesium.Transforms.eastNorthUpToFixedFrame( position);\r\n\r\n        let hpr = new Cesium.HeadingPitchRoll(...this.rotation);\r\n        let quaternion = Cesium.Quaternion.fromHeadingPitchRoll(hpr, new Cesium.Quaternion());\r\n\r\n        rotateMatrix = Cesium.Matrix4.fromTranslationQuaternionRotationScale(\r\n            Cesium.Cartesian3.ZERO, quaternion, new Cesium.Cartesian3(1,1,1), rotateMatrix);\r\n        \r\n        Cesium.Matrix4.multiply(this._modelMatrix, rotateMatrix, this._modelMatrix);\r\n        this._particleSystem.modelMatrix = this._modelMatrix;\r\n    }\r\n\r\n    updateParticleSize(){\r\n\r\n        if( this._particleSystem.imageSize){\r\n            \r\n            this._particleSystem.imageSize.x = this.particleSize;\r\n            this._particleSystem.imageSize.y = this.particleSize;\r\n\r\n            this._particleSystem.maximumImageSize.x = this.particleSize;\r\n            this._particleSystem.maximumImageSize.y = this.particleSize;\r\n            this._particleSystem.minimumImageSize.x = this.particleSize;\r\n            this._particleSystem.minimumImageSize.y = this.particleSize;\r\n        }else{\r\n            this._particleSystem.imageSize = new Cesium.Cartesian2( this.particleSize, this.particleSize);\r\n        }\r\n    }\r\n\r\n    updateParticleSystem(){\r\n\r\n        //let updateCallback = this._particleSystem.updateCallback;\r\n        if(this._particleSystem){\r\n\r\n            this._viewer.scene.primitives.remove( this._particleSystem);\r\n            this._particleSystem = undefined;\r\n        }\r\n        this._particleSystem = new Cesium.ParticleSystem({\r\n            \r\n            image: this.image,\r\n            show: this.show && this.enabled,\r\n\r\n            startColor: {red: this.startColor[0],green: this.startColor[1],blue: this.startColor[2],alpha: this.startColor[3]},\r\n            endColor: {red: this.endColor[0],green: this.endColor[1],blue: this.endColor[2],alpha: this.endColor[3]},\r\n\r\n            startScale: this.startScale,\r\n            endScale: this.endScale,\r\n\r\n            minimumParticleLife: this.minimumParticleLife,\r\n            maximumParticleLife: this.maximumParticleLife,\r\n\r\n            minimumSpeed: this.minimumSpeed,\r\n            maximumSpeed: this.maximumSpeed,\r\n\r\n            imageSize: new Cesium.Cartesian2(\r\n                this.particleSize,\r\n                this.particleSize\r\n            ),\r\n\r\n            emissionRate: this.emissionRate,\r\n\r\n            lifetime: 16.0,\r\n            modelMatrix: this._modelMatrix,\r\n\r\n            emitterModelMatrix: Cesium.Matrix4.IDENTITY,\r\n\r\n            emitter: this._emitter,\r\n\r\n            updateCallback: this._updateCallback\r\n        });\r\n        this._viewer.scene.primitives.add( this._particleSystem);\r\n    }\r\n\r\n    //将属性传递给this._particleSystem\r\n    update(){\r\n        this._particleSystem.startColor = {red: this.startColor[0],green: this.startColor[1],blue: this.startColor[2],alpha: this.startColor[3]}//Cesium.Color.fromBytes(...this.startColor);\r\n        this._particleSystem.endColor = {red: this.endColor[0],green: this.endColor[1],blue: this.endColor[2],alpha: this.endColor[3]}//Cesium.Color.fromBytes(...this.endColor);\r\n        \r\n        this._particleSystem.startScale = this.startScale;\r\n        this._particleSystem.endScale = this.endScale;\r\n        this._particleSystem.emissionRate = this.emissionRate;\r\n        this._particleSystem.minimumSpeed = this.minimumSpeed;\r\n        this._particleSystem.maximumSpeed = this.maximumSpeed;\r\n\r\n        this._particleSystem.minimumParticleLife = this.minimumParticleLife;\r\n        this._particleSystem.maximumParticleLife = this.maximumParticleLife;\r\n        this._particleSystem.show = this.show && this.enabled;\r\n    }\r\n\r\n    updateGravity( gravity){\r\n        return this._updateCallback = (p, dt)=>{\r\n            Cesium.Cartesian3.normalize(p.position, gravityScratch);\r\n            Cesium.Cartesian3.multiplyByScalar(\r\n                gravityScratch,\r\n                gravity * dt,\r\n                gravityScratch\r\n            );\r\n  \r\n            p.velocity = Cesium.Cartesian3.add(\r\n                p.velocity,\r\n                gravityScratch,\r\n                p.velocity\r\n            );\r\n        }\r\n    }\r\n    \r\n    updateEmitter(){\r\n\r\n        let params;\r\n        if(this.emitterType != 'BoxEmitter'){\r\n\r\n            params = this.emitterType == 'ConeEmitter' ? this.emitterAngle : this.emitterRadius;\r\n        }else{\r\n\r\n            params = new Cesium.Cartesian3( ...(new Array(3).fill(this.emitterRadius)));\r\n        }\r\n        if(this._particleSystem){\r\n\r\n            this._particleSystem.emitter = new Cesium[this.emitterType](params);\r\n            this._emitter = this._particleSystem.emitter;\r\n        }else{\r\n            this._emitter = new Cesium[this.emitterType](params);\r\n            return this._emitter;\r\n        }\r\n    }\r\n\r\n    //compute a boundingSphere from particlePool and let camera fly to there\r\n    flyTo(){\r\n        if( this._particleSystem){\r\n            //以particleSystem的中心为圆心，以partileSytem的粒子发射速度和存在时间得到的距离为半径，得到最后的圆\r\n            let speed = Math.abs(this._particleSystem.minimumSpeed) > Math.abs(this._particleSystem.maximumSpeed) ?\r\n                        Math.abs(this._particleSystem.minimumSpeed) : Math.abs(this._particleSystem.maximumSpeed);\r\n            let time = Math.abs(this._particleSystem.minimumParticleLife) > Math.abs(this._particleSystem.maximumParticleLife) ?\r\n                        Math.abs(this._particleSystem.minimumParticleLife) : Math.abs(this._particleSystem.maximumParticleLife);\r\n            let center = new Cesium.Cartesian3();\r\n            Cesium.Matrix4.getColumn(this._particleSystem.modelMatrix, 3, center);\r\n            let radius = speed * time;\r\n            let boundingSphere = new Cesium.BoundingSphere( center, radius);\r\n            this._viewer.camera.flyToBoundingSphere( boundingSphere,{\r\n                duration: 2,\r\n            });\r\n        }\r\n    }\r\n\r\n    // destroy(){\r\n    //     if(this._particleSystem){\r\n    //         this._viewer.scene.primitives.remove( this._particleSystem);\r\n    //         this._particleSystem = undefined;\r\n    //     }\r\n    //     super.destroy();\r\n    // }\r\n}\r\n\r\nconst params = {\r\n    fountain:{\r\n        gravity: 10,\r\n        minimumSpeed: 10,\r\n        maximumSpeed: 15,\r\n        gravity: -10,\r\n        emitterRadius: 0.1,\r\n        emissionRate: 20,\r\n        startColor: [1.0,1.0,1.0,1.0],\r\n        endColor: [1.0,1.0,1.0,0.0],\r\n        emitterType: 'CircleEmitter',\r\n        rotation: [0,Cesium.Math.PI_OVER_TWO,0],\r\n    },\r\n    smoke:{\r\n        startColor: [0.12549, 0.69804, 0.66667, 0.7],\r\n        endColor: [1.0, 1.0, 1.0, 0.0],\r\n    \r\n        rotation: [0,0,0],//目前rotation[0]的地方绕上方向旋转\r\n    \r\n        emissionRate: 5.0,\r\n        gravity: 0.0,\r\n        minimumParticleLife: 2,\r\n        maximumParticleLife: 2,\r\n        minimumSpeed: 1.0,\r\n        maximumSpeed: 4.0,\r\n        emitterRadius: 2,\r\n        emitterType: 'CircleEmitter',//BoxEmitter、CircleEmitter、ConeEmitter、SphereEmitter\r\n    }\r\n}\r\n//默认数据，需要填充到中ParticleSystem\r\nParticleSystem.defaultOptions = {\r\n    show: true,\r\n    enabled: true,\r\n    position: [1.6988083400554626, 0.6666896940162155, 30],\r\n    startScale: 1.0,\r\n    endScale: 5.0,\r\n    particleSize: 25.0,\r\n    image: '../../XbsjEarth-Plugins/plottingSymbol2/assets/SampleData/smoke.png',\r\n\r\n    emitterAngle: 1,\r\n    //emitterType: 'CircleEmitter',\r\n    ...params.smoke,\r\n}\r\n\r\nParticleSystem.registerType(ParticleSystem, 'ParticleSystem');\r\n\r\nexport default ParticleSystem;\r\n","let particleCanvas;\r\nfunction getImage() {\r\n    if (!particleCanvas) {\r\n        particleCanvas = document.createElement(\"canvas\");\r\n        particleCanvas.width = 20;\r\n        particleCanvas.height = 20;\r\n        var context2D = particleCanvas.getContext(\"2d\");\r\n        context2D.beginPath();\r\n        context2D.arc(8, 8, 8, 0, Cesium.Math.TWO_PI, true);\r\n        context2D.closePath();\r\n        context2D.fillStyle = \"rgb(255, 255, 255)\";\r\n        context2D.fill();\r\n    }\r\n    return particleCanvas;\r\n}\r\n\r\nexport default getImage","//这个专为烟花效果\r\n/**\r\n * 实现一次一个粒子系统进行burst，然后控制其半径、颜色、粒子到达边界的总时长\r\n */\r\nimport getImage from './getImage.js';\r\n\r\nlet gravityScratch = new Cesium.Cartesian3();\r\nconst Tool = XE.Tool;\r\n\r\nclass ParticleSystemFireWork extends XE.Core.XbsjCzmObj{\r\n    constructor( earth, guid){\r\n\r\n        super( earth, guid);\r\n        this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPositionEditing(this._earth, this, {\r\n            positionEditingProperty: 'editing',\r\n        }));\r\n\r\n        this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPositionPicking(this._earth, this, {\r\n            positionPickingProperty: 'creating',\r\n        }));\r\n\r\n        this._viewer = earth.czm.viewer;\r\n        this._modelMatrix = this._modelMatrix || Cesium.Matrix4.IDENTITY;\r\n        this._position = new Cesium.Cartesian3();\r\n\r\n        this._particleSystem = new Cesium.ParticleSystem({\r\n            image: getImage(),\r\n            show: this.show && this.enabled,\r\n\r\n            startColor: {red: this.startColor[0],green: this.startColor[1],blue: this.startColor[2],alpha: this.startColor[3]},\r\n            endColor:   {red: this.endColor[0],green: this.endColor[1],blue: this.endColor[2],alpha: 0},\r\n\r\n            particleLife: this.particleLife,\r\n\r\n            speed: this.radius / this.particleLife || 0,\r\n\r\n            imageSize: new Cesium.Cartesian2(7,7),\r\n\r\n            bursts:  [new Cesium.ParticleBurst({\r\n                time: 0.0,\r\n                minimum: 400,\r\n                maximum: 400\r\n            })],\r\n\r\n            emissionRate: 0,\r\n\r\n            lifetime: this.particleLife + this.burstInterval || 2.0,\r\n            modelMatrix: this._modelMatrix,\r\n\r\n            emitter: new Cesium.SphereEmitter(0.1),\r\n        });\r\n\r\n        this._viewer.scene.primitives.add( this._particleSystem);\r\n\r\n        this.disposers.push( ()=>{\r\n            if ( this._particleSystem){\r\n                this._viewer.scene.primitives.remove( this._particleSystem);\r\n                this._particleSystem = undefined;\r\n            }\r\n        })\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            \r\n            return {\r\n                startColor: [...this.startColor],\r\n                endColor:   [...this.endColor],\r\n                show:       this.show && this.enabled,\r\n            }\r\n        }, () => this.updateColor() ));\r\n        \r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            \r\n            return {\r\n                radius:         this.radius,\r\n                particleLife:   this.particleLife,\r\n                burstInterval:  this.burstInterval,\r\n            }\r\n        }, () => this.updateInitialVelocity() ));\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            \r\n            return {\r\n                position:  [...this.position],\r\n            }\r\n        }, () => this.updateModelMatrix()));\r\n    }\r\n\r\n    updateColor(){\r\n        this._particleSystem.startColor = {red: this.startColor[0],green: this.startColor[1],blue: this.startColor[2],alpha: this.startColor[3]};\r\n        this._particleSystem.endColor = {red: this.endColor[0],green: this.endColor[1],blue: this.endColor[2],alpha: this.endColor[3]};\r\n        this._particleSystem.show = this.show && this.enabled;\r\n    }\r\n\r\n    updateModelMatrix(){\r\n        Cesium.Cartesian3.fromRadians( ...this.position, null, this._position);\r\n        \r\n        if( !this._position.x && !this._position.y && !this._position.z) return;\r\n\r\n        this._modelMatrix = Cesium.Transforms.eastNorthUpToFixedFrame( this._position);\r\n        this._particleSystem.modelMatrix = this._modelMatrix;\r\n    }\r\n\r\n    updateInitialVelocity(){\r\n\r\n        this._initialVelocity = this.radius / this.particleLife;\r\n        this._particleSystem.lifetime = this.particleLife + this.burstInterval;\r\n        this._particleSystem.minimumParticleLife = this.particleLife;\r\n        this._particleSystem.maximumParticleLife = this.particleLife;\r\n        // this._particleSystem.bursts.pop();\r\n        // this._particleSystem.bursts.push( new Cesium.ParticleBurst({\r\n        //     time: 0.0,\r\n        //     minimum: 400,\r\n        //     maximum: 400\r\n        // }));\r\n        \r\n        this._particleSystem.minimumSpeed = this._initialVelocity;\r\n        this._particleSystem.maximumSpeed = this._initialVelocity;\r\n    }\r\n\r\n    flyTo(){\r\n\r\n        this.boundingSphere = new Cesium.BoundingSphere( this._position, this.radius);\r\n        this._viewer.camera.flyToBoundingSphere( this.boundingSphere ,{\r\n            duration: 2,\r\n        });\r\n    }\r\n\r\n}\r\n\r\nParticleSystemFireWork.defaultOptions = {\r\n    //粒子的初速度通过半径和时间得到\r\n    show: true,\r\n    radius: 200,\r\n    particleLife: 0.8,//爆炸时粒子的存在时间\r\n    burstInterval: 1.0,//爆炸的时间间隔\r\n\r\n    startColor: [0.75, 0.0, 0.8, 1.0],\r\n    endColor:   [0.75, 0.0, 0.8, 0.0],//终止颜色的透明度建议为0\r\n    position:   [1.7, 0.6666896940162155, 100],\r\n}\r\nParticleSystemFireWork.registerType(ParticleSystemFireWork, 'ParticleSystemFireWork');\r\n\r\nexport default ParticleSystemFireWork;\r\n\r\n","import getImage from './getImage.js';\r\nconst Tool = XE.Tool;\r\n/**\r\n * 实现思路：使用一定数量的粒子发射器，在同一位置，同时高速释放粒子\r\n * 我们通过控制modelMatrix的旋转，对于粒子的发射方向进行控制，通过使用粒子的初速度(现在改为回调控制)，使其沿着垂直方向移动\r\n * 通过使用回调函数，控制粒子在水平方向上的移动，要先让粒子通过modelMatrix的逆矩阵转换到局部坐标系，其中，粒子的角度、半径都在增加\r\n */\r\nclass ParticleSystemTails extends XE.Core.XbsjCzmObj{\r\n\r\n    constructor(earth, guid){\r\n        super(earth, guid);\r\n        this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPositionEditing(this._earth, this, {\r\n            positionEditingProperty: 'positionEditing',\r\n        }));\r\n\r\n        this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPositionPicking(this._earth, this, {\r\n            positionPickingProperty: 'creating',\r\n        }));\r\n        this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerRotationEditing(this._earth, this, {\r\n            rotationEditingProperty: 'rotationEditing',\r\n        }));\r\n\r\n        this._viewer = earth.czm.viewer;\r\n\r\n        this._particleSystemList = [];\r\n        this._modelMatrix = Cesium.Matrix4.clone(Cesium.Matrix4.IDENTITY, new Cesium.Matrix4());\r\n        this._inverseModelMatrix = Cesium.Matrix4.clone(Cesium.Matrix4.IDENTITY, new Cesium.Matrix4());\r\n        this._position = new Cesium.Cartesian3();\r\n        this._colors = [];\r\n\r\n        this.disposers.push( ()=>{\r\n            this._particleSystemList = this._particleSystemList.map(e => {\r\n                if(e){\r\n                    this._viewer.scene.primitives.remove( e);\r\n                    e = undefined;\r\n                    return e;\r\n                }\r\n            });\r\n            this._particleSystemList.length = 0;\r\n        });\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            \r\n            return [...this.position,...this.rotation];\r\n        }, () => this.updateMatrix()));\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            \r\n            return {\r\n                show: this.show && this.enabled,\r\n                color:[...this.colors]};\r\n        }, () => this.updateColors()));\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            \r\n            return {\r\n                emissionRate: this.emissionRate,\r\n                particleSize: this.particleSize\r\n            };\r\n        }, () => this.updateCommon()));\r\n\r\n        this.disposers.push(XE.MVVM.watch(() => {\r\n            \r\n            return {\r\n                radius:         this.radius,\r\n                rotate:         this.rotate,\r\n                height:         this.height,\r\n                particleLife:   this.particleLife,\r\n            };\r\n        }, () => this.update()));\r\n\r\n        this.disposers.push(XE.MVVM.watch( ()=>{\r\n\r\n            return this.particleNumber\r\n        }, ()=> {\r\n            this.update();\r\n            this.updateParticleSystemList();\r\n        }))\r\n\r\n        this.updateParticleSystemList();\r\n    }\r\n\r\n    updateCommon(){\r\n        this._particleSystemList.forEach( particleSystem=>{\r\n\r\n            particleSystem.emissionRate = this.emissionRate;\r\n            particleSystem.minimumImageSize.x = this.particleSize;\r\n            particleSystem.minimumImageSize.y = this.particleSize;\r\n            particleSystem.maximumImageSize.x = this.particleSize;\r\n            particleSystem.maximumImageSize.y = this.particleSize;\r\n        })\r\n    }\r\n\r\n    updateColors(){\r\n        this._colors.length = 0;\r\n        for(let i = 0; i < this.colors.length; i+=4){\r\n            this._colors.push( new Cesium.Color( this.colors[i], this.colors[i+1], this.colors[i+2], this.colors[i+3]));\r\n        }\r\n        let length = this._colors.length;\r\n        let i = 0;\r\n        \r\n        this._particleSystemList.forEach( ( e, k)=>{\r\n            i = k % length;\r\n            e.startColor = this._colors[i];\r\n            e.endColor = this._colors[i].withAlpha(0.0);\r\n            e.show = this.show && this.enabled;\r\n        })\r\n    }\r\n\r\n    update(){\r\n        this._radiuStep = this.radius / this.particleLife;\r\n        this._rotateSpeed = this.rotate / this.particleLife;\r\n        this._speed = this.height / this.particleLife;\r\n\r\n        this.changeUpdateCallBack();\r\n    }\r\n\r\n    updateMatrix(){\r\n        let rotateMatrix = new Cesium.Matrix4();\r\n        Cesium.Cartesian3.fromRadians( ...this.position, null, this._position);\r\n        \r\n        if( !this._position.x && !this._position.y && !this._position.z) return;\r\n\r\n        this._modelMatrix = Cesium.Transforms.eastNorthUpToFixedFrame( this._position);\r\n\r\n        let hpr = new Cesium.HeadingPitchRoll(...this.rotation);\r\n        let quaternion = Cesium.Quaternion.fromHeadingPitchRoll(hpr, new Cesium.Quaternion());\r\n\r\n        rotateMatrix = Cesium.Matrix4.fromTranslationQuaternionRotationScale(\r\n            Cesium.Cartesian3.ZERO, quaternion, new Cesium.Cartesian3(1,1,1), rotateMatrix);\r\n        \r\n        Cesium.Matrix4.multiply(this._modelMatrix, rotateMatrix, this._modelMatrix);\r\n        this._inverseModelMatrix = Cesium.Matrix4.inverse( this._modelMatrix, this._inverseModelMatrix);\r\n\r\n        this._particleSystemList.forEach( (e, i)=>{\r\n\r\n            e.modelMatrix = this._modelMatrix;\r\n        });\r\n        this.changeUpdateCallBack();\r\n    }\r\n\r\n    changeUpdateCallBack(){\r\n        this._particleSystemList.forEach( (e, i)=>{\r\n\r\n            e.updateCallback = this.updateCallback(this._radiuStep, this._rotateSpeed, \r\n                Cesium.Math.TWO_PI * i/this.particleNumber, this._speed, this._inverseModelMatrix, this._modelMatrix);\r\n        });\r\n    }\r\n\r\n    //半径渐变、角度变化速度rotateSpeed、当前转动的弧度、最近的半径大小、竖直方向的速度、this._modelMatrix的逆矩阵、this._modelMatrix\r\n    updateCallback(radiuStep, rotateSpeed, angle, speed, inverseModelMatrix, modelMatrix){\r\n        let position = new Cesium.Cartesian3();\r\n        return (particle, dt)=>{\r\n            dt = Cesium.Math.clamp(dt, 0.0, 0.05);\r\n            position = Cesium.Matrix4.multiplyByPoint( inverseModelMatrix, particle.position, position);\r\n            angle += dt * rotateSpeed;\r\n            angle %= Cesium.Math.TWO_PI;\r\n\r\n            position.x += Math.cos( angle) * radiuStep * dt;\r\n            position.y += Math.sin( angle) * radiuStep * dt;\r\n            position.z -= speed * dt;\r\n\r\n            particle.position = Cesium.Matrix4.multiplyByPoint( modelMatrix, position, particle.position);\r\n        }\r\n    }\r\n\r\n    updateParticleSystemList(){\r\n        this._particleSystemList = this._particleSystemList.map(e => {\r\n            if(e){\r\n                this._viewer.scene.primitives.remove( e);\r\n                e = undefined;\r\n                return e;\r\n            }\r\n        });\r\n        this._particleSystemList.length = 0;\r\n\r\n        let index; \r\n        for(let i = 0 ; i < this.particleNumber; ++i){\r\n            index = i % this._colors.length;\r\n            \r\n            let force = this.updateCallback(this._radiuStep, this._rotateSpeed, Cesium.Math.TWO_PI * i/this.particleNumber,\r\n                 this._speed, this._inverseModelMatrix, this._modelMatrix);\r\n            //let force = this.forceFunction( options, i);\r\n            this._particleSystemList.push(\r\n\r\n                new Cesium.ParticleSystem({\r\n                    image: getImage(),\r\n                    show: this.show && this.enabled,\r\n        \r\n                    startColor: this._colors[index],\r\n                    endColor: this._colors[index].withAlpha(0.0),\r\n\r\n                    particleLife: this.particleLife,\r\n        \r\n                    speed: 0.000005,\r\n        \r\n                    imageSize: new Cesium.Cartesian2(\r\n                        this.particleSize,\r\n                        this.particleSize\r\n                    ),\r\n        \r\n                    emissionRate: this.emissionRate,\r\n                    modelMatrix: this._modelMatrix,\r\n\r\n                    lifetime: 0.1,\r\n        \r\n                    emitter: new Cesium.CircleEmitter(0.01),\r\n                    updateCallback: force,\r\n                })\r\n            );\r\n            \r\n        }\r\n        this._particleSystemList.forEach( e=>{\r\n            this._viewer.scene.primitives.add(e);\r\n        })\r\n    }\r\n\r\n    flyTo(){\r\n        this.boundingSphere = new Cesium.BoundingSphere( this._position, Math.sqrt( Math.pow(this.radius, 2) * 2, Math.pow(this.height, 2)) );\r\n        this._viewer.camera.flyToBoundingSphere( this.boundingSphere ,{\r\n            duration: 2,\r\n        });\r\n    }\r\n\r\n    toBeCometTail(){\r\n        this.colors = [...options.comet.colors];\r\n        this.rotate = options.comet.rotate;\r\n    }\r\n\r\n    toBeRocketThruster(){\r\n        this.colors = [...options.rocket.colors];\r\n        this.rotate = options.rocket.rotate;\r\n    }\r\n}\r\n\r\nParticleSystemTails.defaultOptions = {\r\n\r\n    show: true,\r\n    particleSize: 15,//粒子的大小，单位pixel\r\n    \r\n    emissionRate:30,//粒子的发射速率(个/秒)\r\n    particleNumber:100,//构成一圈的粒子数量(粒子发射器的总数)\r\n    \r\n    position: [1.67, 0.6, 50],//粒子系统所在的位置(弧度制)\r\n    rotation: [0,0,0],//粒子系统的欧拉角(弧度制)\r\n    colors:[0.6, 0.6, 0.6, 1.0, 0.6, 0.6, 0.9, 0.9, 0.5, 0.5, 0.7, 0.5],//颜色的数组，以四个为一组存在，结束的颜色透明度默认为0.0\r\n    \r\n    radius: 30,//圆圈可能扩散到的最大半径(只有在自转ratate保持低速时有效)，单位m\r\n    rotate: 0.01,//粒子的存在时间过程中总共旋转经过的弧度\r\n    height: 50,//粒子发射器竖直方向上移动的总距离，单位m\r\n    particleLife: 3.5,//粒子的存在时间，单位s\r\n    \r\n}\r\n\r\nconst options={\r\n    rocket:{\r\n        colors: [1.0, 0.5, 0.05, 1.0 , 0.9, 0.6, 0.01, 1.0, 0.8, 0.05, 0.09, 1.0 , 1.0, 0.05, 0.09, 1.0],\r\n        rotate: 1.0\r\n    },\r\n    comet:{\r\n        colors: [0.6, 0.6, 0.6, 1.0, 0.6, 0.6, 0.9, 0.9, 0.5, 0.5, 0.7, 0.5],\r\n        rotate: 0.01\r\n    }\r\n}\r\nParticleSystemTails.registerType(ParticleSystemTails, 'ParticleSystemTails');\r\n\r\nexport default ParticleSystemTails;","//使用贝塞尔曲线，方程，得到闭合或不闭合的曲线段\r\nexport default function getCurve( positions, loop=false, times = 20, result){\r\n    if(positions.length < 3) return;\r\n\r\n    //先将弧度制转化为Cartesian3的数据\r\n    let positionsC = positions.map( e=>{\r\n        return Cesium.Cartesian3.fromRadians( ...e, undefined,new Cesium.Cartesian3());\r\n    });\r\n    if(!result){\r\n        result = [];\r\n    }\r\n\r\n    let last,current,next;\r\n    last = positionsC[0];\r\n    \r\n    let directions = [];\r\n    let vector1 = new Cesium.Cartesian3();\r\n    let vector2 = new Cesium.Cartesian3();\r\n    let vector, distance1, distance2;\r\n    let controlPositions = [];\r\n    if( loop == true){\r\n\r\n        last = positionsC[ positionsC.length-1];\r\n        directions = positionsC.map( ( position, i)=>{\r\n            \r\n            current = position;\r\n            next = positionsC[i+1] || positionsC[0];\r\n            distance1 = Cesium.Cartesian3.distance( last, current);\r\n            distance2 = Cesium.Cartesian3.distance( current, next);\r\n\r\n            //计算前中、中后的矢量方向\r\n            vector1 = Cesium.Cartesian3.subtract( current, last, vector1);\r\n            vector2 = Cesium.Cartesian3.subtract( next, current, vector2);\r\n            Cesium.Cartesian3.normalize( vector1, vector1);\r\n            Cesium.Cartesian3.normalize( vector2, vector2);\r\n            Cesium.Cartesian3.multiplyByScalar( vector1, distance1, vector1);\r\n            Cesium.Cartesian3.multiplyByScalar( vector2, distance2, vector2);\r\n\r\n            vector = Cesium.Cartesian3.add( vector1, vector2, new Cesium.Cartesian3());\r\n            Cesium.Cartesian3.normalize( vector, vector);\r\n            last = current;\r\n\r\n            //计算前后两个控制点所在的位置，控制点的位置由两点间的距离决定\r\n            let p1 = Cesium.Cartesian3.multiplyByScalar( vector, -distance1 * 0.3, new Cesium.Cartesian3());\r\n            let p2 = Cesium.Cartesian3.multiplyByScalar( vector, distance2 * 0.3, new Cesium.Cartesian3());\r\n            Cesium.Cartesian3.add( current, p1, p1);\r\n            Cesium.Cartesian3.add( current, p2, p2);\r\n            controlPositions.push( p1, p2);\r\n            return vector;\r\n        });\r\n        controlPositions.push( controlPositions.shift());\r\n        \r\n        \r\n    }else{\r\n        \r\n        //在首尾时，通过两个点确定方向,controlPosition取连线上的点位\r\n        doit( positionsC[0], positionsC[1], controlPositions, directions);\r\n\r\n        for( let i = 1; i < positionsC.length - 1; i++){\r\n            //不在首尾时，通过三个点确定方向\r\n            last = positionsC[i-1];\r\n            current = positionsC[i];\r\n            next = positionsC[i+1];\r\n\r\n            distance1 = Cesium.Cartesian3.distance( last, current);\r\n            distance2 = Cesium.Cartesian3.distance( current, next);\r\n            \r\n            //计算前中、中后的矢量方向\r\n            vector1 = Cesium.Cartesian3.subtract( current, last, vector1);\r\n            vector2 = Cesium.Cartesian3.subtract( next, current, vector2);\r\n            Cesium.Cartesian3.normalize( vector1, vector1);\r\n            Cesium.Cartesian3.normalize( vector2, vector2);\r\n            Cesium.Cartesian3.multiplyByScalar( vector1, distance1, vector1);\r\n            Cesium.Cartesian3.multiplyByScalar( vector2, distance2, vector2);\r\n\r\n            vector = Cesium.Cartesian3.add( vector1, vector2, new Cesium.Cartesian3());\r\n            Cesium.Cartesian3.normalize( vector, vector);\r\n            last = current;\r\n\r\n            //计算前后两个控制点所在的位置，控制点的位置由两点间的距离决定\r\n            let p1 = Cesium.Cartesian3.multiplyByScalar( vector, -distance1 * 0.3, new Cesium.Cartesian3());\r\n            let p2 = Cesium.Cartesian3.multiplyByScalar( vector, distance2 * 0.3, new Cesium.Cartesian3());\r\n            Cesium.Cartesian3.add( current, p1, p1);\r\n            Cesium.Cartesian3.add( current, p2, p2);\r\n            controlPositions.push( p1, p2);\r\n            directions.push( vector);\r\n        }\r\n        doit( positionsC[ positionsC.length-2], positionsC[ positionsC.length-1], controlPositions, directions);\r\n    }\r\n    //接下来进行bezier曲线的计算\r\n    for( let i = 0; i < positionsC.length; i++){\r\n\r\n        let p0 = positionsC[i] || positionsC[positionsC.length-1];\r\n        let p3 = positionsC[i+1] || positionsC[0];\r\n        let p1 = controlPositions[i*2] || controlPositions[controlPositions.length-2];\r\n        let p2 = controlPositions[i*2+1] || controlPositions[controlPositions.length-1];\r\n        result.push(...bezier3( p0, p1, p2, p3, times))\r\n    }\r\n\r\n    //让result中的Cartesian3转为弧度制\r\n    result = result.map( point=>{\r\n        let cartographic = Cesium.Cartographic.fromCartesian( point);\r\n        return [cartographic.longitude, cartographic.latitude, cartographic.height];\r\n    });\r\n    return result;\r\n}\r\n\r\nlet bezier3 = function(p0, p1, p2, p3, times = 20){\r\n    let result = [];\r\n    //计算二十次\r\n    let t1,t2,t3,tt1,tt2,tt3;\r\n    result.push( p0);\r\n    let point;\r\n    for( let i = 1; i < times; i++){\r\n        t1 = i / times;\r\n        t2 = t1 * t1;\r\n        t3 = t2 * t1;\r\n        tt1 = 1 - t1;\r\n        tt2 = tt1 * tt1;\r\n        tt3 = tt2 * tt1;\r\n        point = new Cesium.Cartesian3();\r\n        point.x = p0.x * tt3 + 3 * p1.x * tt2 * t1 + 3 * p2.x * tt1 * t2 + p3.x * t3;\r\n        point.y = p0.y * tt3 + 3 * p1.y * tt2 * t1 + 3 * p2.y * tt1 * t2 + p3.y * t3;\r\n        point.z = p0.z * tt3 + 3 * p1.z * tt2 * t1 + 3 * p2.z * tt1 * t2 + p3.z * t3;\r\n\r\n        result.push( point);\r\n    }\r\n    result.push( p3);\r\n\r\n    return result;\r\n}\r\n\r\nlet doit = function( last, next, controlPositions, directions){\r\n\r\n    let distance = Cesium.Cartesian3.distance( next, last);\r\n    vector = Cesium.Cartesian3.subtract( next, last, new Cesium.Cartesian3());\r\n    Cesium.Cartesian3.normalize( vector, vector);\r\n\r\n    let p1 = Cesium.Cartesian3.multiplyByScalar( vector, distance/3, new Cesium.Cartesian3());\r\n    let p2 = Cesium.Cartesian3.multiplyByScalar( vector, 2*distance/3, new Cesium.Cartesian3());\r\n    Cesium.Cartesian3.add( last, p1, p1);\r\n    Cesium.Cartesian3.add( last, p2, p2);\r\n    controlPositions.push( p1, p2);\r\n    directions.push( vector);\r\n}","import PlotPolygonBase from './base/PlotPolygonBase';\r\nimport getCurve from './math/getCurve.js';\r\nconst Tool = XE.Tool;\r\n\r\nclass GeoSmoothPolygon extends PlotPolygonBase {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        this._pgPositions = [];\r\n        this.disposers.push(\r\n            XE.MVVM.watch(\r\n            () => {\r\n                return [...this.positions.map(e => [...e])];\r\n            }, () => {\r\n                //如果有任意两点相同，则移除其中的一个\r\n                let lastP;\r\n                let positions = this.positions.filter( position=>{\r\n                    let isReturn = true;\r\n                    if( lastP){\r\n                        if( lastP[0] == position[0] && lastP[1] == position[1] && lastP[2] == position[2]){\r\n                            isReturn = false;\r\n                        }\r\n                    }\r\n                    if( isReturn) return position;\r\n                })\r\n\r\n                const l = positions.length;\r\n                if (l <= 2) {\r\n                    return;\r\n                }\r\n                if( isEquals(positions[l-1],positions[l-2])) return;\r\n\r\n                this._pgPositions.length = 0;\r\n\r\n                //为了得到闭合曲线，我们将positions前后的点位都传进去\r\n                let controlPositions = [];\r\n                \r\n                positions.forEach( e => {\r\n                    controlPositions.push(e);\r\n                });\r\n                \r\n                //let curve = Tool.Math.interpolatePositions(controlPositions, (l+1)*20 -1, true, []);\r\n                //let curve = hermite(controlPositions, (l+1)*20, true, []);\r\n                let curve = getCurve(positions, true, 20);\r\n                curve.forEach(e => {\r\n                    this._pgPositions.push(e[0], e[1]);\r\n                });\r\n\r\n                this._polygon.positions = this._pgPositions;\r\n                this._polygon.height = positions[0][2];\r\n            })\r\n        );\r\n    }\r\n}\r\n\r\nGeoSmoothPolygon.registerType(GeoSmoothPolygon, \"GeoSmoothPolygon\");\r\n\r\nexport default GeoSmoothPolygon;\r\n\r\n//判断两个数组内的数字是否相同\r\nlet index;\r\nfunction isEquals( left, right){\r\n    if(!left || !right){\r\n        return false;\r\n    }\r\n    index = 0;\r\n    for(let i=0; i<left.length; i++){\r\n        index = left[i] == right[i] ? 0 : 1;\r\n        if(index > 0){\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/*\r\n//继续换算法：利用hermite取得的切线位置，通过延长，获得Bezier二次曲线的控制点\r\nfunction getCurve( positions, splitNum, loop=false, result){\r\n    if(positions.length < 3) return;\r\n\r\n    //先将弧度制转化为Cartesian3的数据\r\n    let positionsC = positions.map( e=>{\r\n        return Cesium.Cartesian3.fromRadians( ...e, undefined,new Cesium.Cartesian3());\r\n    });\r\n    if(!result){\r\n        result = [];\r\n    }\r\n\r\n    let last,current,next;\r\n    last = positionsC[0];\r\n    let distance;\r\n    let length = 0;\r\n    let distances = positionsC.map( position=>{\r\n        distance = Cesium.Cartesian3.distance( last, position);\r\n        length += distance;\r\n        last = position;\r\n        return distance;\r\n    });\r\n    let directions = [];\r\n    let vector1 = new Cesium.Cartesian3();\r\n    let vector2 = new Cesium.Cartesian3();\r\n    let vector;\r\n    if( loop == true){\r\n\r\n        distances.splice( 0, 1);\r\n        distances.push( Cesium.Cartesian3.distance( positionsC[0], positionsC[positionsC.length-1]))\r\n        length += distances[0];\r\n\r\n        last = positionsC[ positionsC.length-1];\r\n        directions = positionsC.map( (position, i)=>{\r\n            \r\n            current = position;\r\n            next = positionsC[i+1] || positionsC[0];\r\n\r\n            //计算前中、中后的矢量方向\r\n            vector1 = Cesium.Cartesian3.subtract( current, last, vector1);\r\n            vector2 = Cesium.Cartesian3.subtract( next, current, vector2);\r\n\r\n            last = current;\r\n            vector = Cesium.Cartesian3.add( vector1, vector2, new Cesium.Cartesian3());\r\n            return Cesium.Cartesian3.multiplyByScalar( vector, 0.6, vector);\r\n        });\r\n\r\n        //通过点位之间的距离得到点位之间的点的数量，使得splitNum的分布可以尽可能的均匀\r\n        let distanceBetweenTwoPoints = length / splitNum;\r\n        //存储前两个点之间距离没有被用尽的距离\r\n        let preDistance = 0;\r\n        let num;\r\n        let pointsNumArr = distances.map( distance=>{\r\n            num = parseInt((distance + preDistance) / distanceBetweenTwoPoints);\r\n            preDistance = distance + preDistance - num * distanceBetweenTwoPoints;\r\n            return num;\r\n        });\r\n\r\n        //接下来，获取每一段的两个bezier控制点位置\r\n        //_hermite( directions, positionsC, pointsNumArr, result);\r\n    }else{\r\n\r\n    }\r\n}\r\n*/\r\n\r\n//hermite曲线算法\r\n\r\nfunction hermite( positions, splitNum, loop=false, result){\r\n    if(positions.length < 3) return;\r\n\r\n    //先将弧度制转化为Cartesian3的数据\r\n    let positionsC = positions.map( e=>{\r\n        return Cesium.Cartesian3.fromRadians( ...e, undefined,new Cesium.Cartesian3());\r\n    });\r\n    if(!result){\r\n        result = [];\r\n    }\r\n\r\n    let last,current,next;\r\n    last = positionsC[0];\r\n    let distance;\r\n    let length = 0;\r\n    let distances = positionsC.map( position=>{\r\n        distance = Cesium.Cartesian3.distance( last, position);\r\n        length += distance;\r\n        last = position;\r\n        return distance;\r\n    });\r\n    let directions = [];\r\n    let vector1 = new Cesium.Cartesian3();\r\n    let vector2 = new Cesium.Cartesian3();\r\n    let vector;\r\n    if( loop == true){\r\n\r\n        distances.splice( 0, 1);\r\n        distances.push( Cesium.Cartesian3.distance( positionsC[0], positionsC[positionsC.length-1]))\r\n        length += distances[0];\r\n\r\n        last = positionsC[ positionsC.length-1];\r\n        directions = positionsC.map( (position, i)=>{\r\n            \r\n            current = position;\r\n            next = positionsC[i+1] || positionsC[0];\r\n\r\n            //计算前中、中后的矢量方向\r\n            vector1 = Cesium.Cartesian3.subtract( current, last, vector1);\r\n            vector2 = Cesium.Cartesian3.subtract( next, current, vector2);\r\n\r\n            last = current;\r\n            vector = Cesium.Cartesian3.add( vector1, vector2, new Cesium.Cartesian3());\r\n            return Cesium.Cartesian3.multiplyByScalar( vector, 0.6, vector);\r\n        });\r\n\r\n        //通过点位之间的距离得到点位之间的点的数量，使得splitNum的分布可以尽可能的均匀\r\n        let distanceBetweenTwoPoints = length / splitNum;\r\n        //存储前两个点之间距离没有被用尽的距离\r\n        let preDistance = 0;\r\n        let num;\r\n        let pointsNumArr = distances.map( distance=>{\r\n            num = parseInt((distance + preDistance) / distanceBetweenTwoPoints);\r\n            preDistance = distance + preDistance - num * distanceBetweenTwoPoints;\r\n            return num;\r\n        });\r\n\r\n        _hermite( directions, positionsC, pointsNumArr, result);\r\n    }else{\r\n\r\n        //\r\n        distances.splice( 0, 1);\r\n        \r\n        last = undefined;\r\n        directions = positionsC.map( (position, i)=>{\r\n            current = position;\r\n            next = positionsC[i+1];\r\n            if( last && next){\r\n\r\n                vector1 = Cesium.Cartesian3.subtract( current, last, vector1);\r\n                vector2 = Cesium.Cartesian3.subtract( next, current, vector2);\r\n                vector = Cesium.Cartesian3.add( vector1, vector2, new Cesium.Cartesian3());\r\n            }else{\r\n                \r\n                vector = last ? Cesium.Cartesian3.subtract( current, last, new Cesium.Cartesian3()) : \r\n                Cesium.Cartesian3.subtract(next, current, new Cesium.Cartesian3());\r\n            }\r\n\r\n            last = current;\r\n            \r\n            return Cesium.Cartesian3.multiplyByScalar( vector, 0.5, vector);\r\n        });\r\n\r\n        //通过点位之间的距离得到点位之间的点的数量，使得splitNum的分布可以尽可能的均匀\r\n        let distanceBetweenTwoPoints = length / splitNum;\r\n        //存储前两个点之间距离没有被用尽的距离\r\n        let preDistance = 0;\r\n        let num;\r\n        let pointsNumArr = distances.map( distance=>{\r\n            num = parseInt((distance + preDistance) / distanceBetweenTwoPoints);\r\n            preDistance = distance + preDistance - num * distanceBetweenTwoPoints;\r\n            return num;\r\n        });\r\n        _hermite( directions, positionsC, pointsNumArr, result);\r\n    }\r\n\r\n    result = result.map( e=>{\r\n        let cartesian = Cesium.Cartographic.fromCartesian(e, undefined, new Cesium.Cartographic());\r\n        return [cartesian.longitude, cartesian.latitude, cartesian.height];\r\n    })\r\n\r\n    return result;\r\n}\r\n\r\nfunction _hermite( vectors, positionsC, pointsNumArr, result){\r\n\r\n    let t3,t2,t, step;\r\n    let a1,a2,a3,a4;\r\n    let p1,p2,vector1,vector2;\r\n    result.push( positionsC[0]);\r\n\r\n    p1 = positionsC[0];\r\n    vector1 = vectors[0];\r\n    pointsNumArr.forEach( (num, k) =>{\r\n        //点位数组\r\n        p2 = positionsC[k+1] || positionsC[0];\r\n        vector2 = vectors[k+1] || vectors[0];\r\n        step = 1.0 / num;\r\n        for( let i = 1; i < num; i++){\r\n            t = i * step;\r\n            \r\n            t2 = t * t;\r\n            t3 = t2 * t;\r\n\r\n            a1 = 2 * t3 - 3 * t2 + 1;\r\n            a2 = -2 * t3 + 3 * t2;\r\n            a3 = t3 - 2 * t2 + t;\r\n            a4 = t3 - t2;\r\n            let point = new Cesium.Cartesian3();\r\n            point.x = a1 * p1.x + a2 * p2.x + a3 * vector1.x + a4 * vector2.x;\r\n            point.y = a1 * p1.y + a2 * p2.y + a3 * vector1.y + a4 * vector2.y;\r\n            point.z = a1 * p1.z + a2 * p2.z + a3 * vector1.z + a4 * vector2.z;\r\n            result.push( point);\r\n        }\r\n        p1 = p2;\r\n        vector1 = vector2;\r\n        result.push( p2);\r\n    });\r\n}\r\n","import GeoSectorSearch from \"./GeoSectorSearch\";\r\nimport GeoPolylineArrow from \"./GeoPolylineArrow\";\r\nimport GeoTriFlag from \"./GeoTriFlag\";\r\nimport GeoCurveArrow from \"./GeoCurveArrow\";\r\nimport GeoDoubleArrow from \"./GeoDoubleArrow\";\r\nimport GeoRectangle from \"./GeoRectangle\";\r\nimport GeoRectangle2 from \"./GeoRectangle2\";\r\nimport GeoCircle from \"./GeoCircle\";\r\nimport GeoCircle2 from \"./GeoCircle2\";\r\nimport GeoPolygon from \"./GeoPolygon\";\r\nimport GeoPin from \"./GeoPin\";\r\nimport GeoRightAngleFlag from \"./GeoRightAngleFlag\";\r\nimport GeoCurveFlag from \"./GeoCurveFlag\";\r\nimport GeoPolyline from \"./GeoPolyline\";\r\nimport GeoArc from \"./GeoArc\";\r\nimport GeoBezier2 from \"./GeoBezier2\";\r\nimport GeoBezier3 from \"./GeoBezier3\";\r\nimport GeoSector from \"./GeoSector\";\r\nimport GeoSector2 from \"./GeoSector2\";\r\nimport GeoParallelSearch from \"./GeoParallelSearch\";\r\nimport GeoCurve from \"./GeoCurve\";\r\nimport GeoArrow from './GeoArrow.js';\r\n//import GeoTailArrow from './GeoTailArrow.js';\r\nimport GeoSimpleArrow from './GeoSimpleArrow.js';\r\nimport ParticleSystem from './particleSystem/ParticleSystem.js';\r\nimport ParticleSystemFireWork from './particleSystem/ParticleSystemFireWork.js';\r\nimport ParticleSystemTails from './particleSystem/ParticleSystemTails.js';\r\nimport GeoSmoothPolygon from './GeoSmoothPolygon.js';\r\n\r\nXE.Obj.Plots = XE.Obj.Plots || {};\r\n\r\nXE.Obj.Plots.GeoSectorSearch = GeoSectorSearch;\r\nXE.Obj.Plots.GeoPolylineArrow = GeoPolylineArrow;\r\nXE.Obj.Plots.GeoTriFlag = GeoTriFlag;\r\nXE.Obj.Plots.GeoCurveArrow = GeoCurveArrow;\r\nXE.Obj.Plots.GeoDoubleArrow = GeoDoubleArrow;\r\nXE.Obj.Plots.GeoRectangle = GeoRectangle;\r\nXE.Obj.Plots.GeoRectangle2 = GeoRectangle2;\r\nXE.Obj.Plots.GeoCircle = GeoCircle;\r\nXE.Obj.Plots.GeoCircle2 = GeoCircle2;\r\nXE.Obj.Plots.GeoPolygon = GeoPolygon;\r\nXE.Obj.Plots.GeoPin = GeoPin;\r\nXE.Obj.Plots.GeoRightAngleFlag = GeoRightAngleFlag;\r\nXE.Obj.Plots.GeoCurveFlag = GeoCurveFlag;\r\nXE.Obj.Plots.GeoPolyline = GeoPolyline;\r\nXE.Obj.Plots.GeoArc = GeoArc;\r\nXE.Obj.Plots.GeoBezier2 = GeoBezier2;\r\nXE.Obj.Plots.GeoBezier3 = GeoBezier3;\r\nXE.Obj.Plots.GeoSector = GeoSector;\r\nXE.Obj.Plots.GeoSector2 = GeoSector2;\r\nXE.Obj.Plots.GeoParallelSearch = GeoParallelSearch;\r\nXE.Obj.Plots.GeoCurve = GeoCurve;\r\nXE.Obj.Plots.GeoArrow = GeoArrow;\r\n//XE.Obj.Plots.GeoTailArrow = GeoTailArrow;\r\nXE.Obj.Plots.GeoSimpleArrow = GeoSimpleArrow;\r\nXE.Obj.Plots.ParticleSystem = ParticleSystem;\r\nXE.Obj.Plots.GeoSmoothPolygon = GeoSmoothPolygon;\r\nXE.Obj.Plots.ParticleSystemFireWork = ParticleSystemFireWork;\r\nXE.Obj.Plots.ParticleSystemTails = ParticleSystemTails;"],"sourceRoot":""}