(function(d,p){typeof exports=="object"&&typeof module<"u"?p(exports):typeof define=="function"&&define.amd?define(["exports"],p):(d=typeof globalThis<"u"?globalThis:d||self,p(d.main={}))})(this,function(d){var O,P,it,Lt,st,Nt,T,nt,Ot,z,E,rt,Tt,A,ut,F,D,B,$,R,k,j,W,G,M,ot,J,yt,at,At,ht,_t,V,ft,X,lt,Dt,K,bt,dt,Bt,Q,vt,ct,$t,gt,Rt,L,C,U,pt,jt,Ct,m,I,H,Y,b,N,It;"use strict";var Qt=Object.defineProperty;var Zt=(d,p,f)=>p in d?Qt(d,p,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[p]=f;var w=(d,p,f)=>(Zt(d,typeof p!="symbol"?p+"":p,f),f),wt=(d,p,f)=>{if(!p.has(d))throw TypeError("Cannot "+f)};var n=(d,p,f)=>(wt(d,p,"read from private field"),f?f.call(d):p.get(d)),h=(d,p,f)=>{if(p.has(d))throw TypeError("Cannot add the same private member more than once");p instanceof WeakSet?p.add(d):p.set(d,f)},g=(d,p,f,tt)=>(wt(d,p,"write to private field"),tt?tt.call(d,f):p.set(d,f),f);var c=(d,p,f)=>(wt(d,p,"access private method"),f);const p="",f="",tt=`<div class="error">\r
    <div class="info">\r
        <div>\r
            <p>软件未授权，请联系软件提供商，获取授权码！</p>\r
            <a href="">刷新</a>\r
        </div>\r
    </div>\r
</div>`,Wt=`<div class="develop">\r
    开发预览版，有限期至【】@山维科技\r
</div>`,_=class{constructor(){h(this,it);h(this,st);h(this,nt);h(this,rt);h(this,A);h(this,P,"开发版");h(this,T,null);h(this,z,null);h(this,E,null);if(new.target===_)return n(_,O)||g(_,O,this),n(_,O)}get authtype(){return n(this,P)}get authorized(){return c(this,st,Nt).call(this)}};let q=_;O=new WeakMap,P=new WeakMap,it=new WeakSet,Lt=function(i,t){try{if(!i||i.length<8)return"";t||(t="sunway_webgis_auth_code"),t=encodeURIComponent(t);let e="";for(let v=0;v<t.length;v+=1)e+=t.charCodeAt(v).toString();let s=Math.floor(e.length/5),r=parseInt(e.charAt(s)+e.charAt(s*2)+e.charAt(s*3)+e.charAt(s*4)+e.charAt(s*5)),l=Math.round(t.length/2),a=Math.pow(2,31)-1,u=parseInt(i.substring(i.length-8,i.length),16);for(i=i.substring(0,i.length-8),e+=u;e.length>10;)e=(parseInt(e.substring(0,10))+parseInt(e.substring(10,e.length))).toString();e=(r*e+l)%a;let y="",Z="";for(let v=0;v<i.length;v+=2)y=parseInt(i.substring(v,v+2),16)^Math.floor(e/a*255),Z+=String.fromCharCode(y),e=(r*e+l)%a;return decodeURIComponent(Z)}catch{return""}},st=new WeakSet,Nt=function(){const i=c(this,it,Lt).call(this,window.licenses),t=i.split("|")[0],e=i.split("|")[1];g(this,P,i.split("|")[2]);let s=window.location.hostname.toUpperCase();if(s==="LOCALHOST"||s=="127.0.0.1")return!0;let r=!1;if(t.split(",").forEach(y=>{if(y.toUpperCase()===s){r=!0;return}}),!r)return c(this,A,ut).call(this,"软件未授权，请联系软件提供商，获取授权码！"),!1;if(typeof e>"u")return c(this,A,ut).call(this,"软件未授权，请联系软件提供商，获取授权码！"),!1;const a=c(this,nt,Ot).call(this),u=new Date(e);return a.getTime()>u.getTime()?(c(this,A,ut).call(this,n(this,P)+"有限期至【"+e+"】已过期，请重新授权！@山维科技"),!1):(n(this,P)!="正式版"&&c(this,rt,Tt).call(this,"开发预览版，有限期至【"+e+"】@山维科技"),!0)},T=new WeakMap,nt=new WeakSet,Ot=function(){if(!n(this,T)){const i=new window.XMLHttpRequest;i.open("GET","/",!1),i.send(null);const t=i.getResponseHeader("Date");g(this,T,new Date(t))}return n(this,T)},z=new WeakMap,E=new WeakMap,rt=new WeakSet,Tt=function(i){n(this,E)||(g(this,E,document.createElement("div")),n(this,E).style.zIndex="999",n(this,E).classList.add("auth"),n(this,E).innerHTML=Wt,document.body.appendChild(n(this,E)));const t=n(this,E).getElementsByClassName("develop")[0];t.innerHTML=i},A=new WeakSet,ut=function(i){n(this,z)||(g(this,z,document.createElement("div")),n(this,z).style.zIndex="1000",n(this,z).classList.add("auth"),n(this,z).innerHTML=tt,document.body.appendChild(n(this,z)));const t=n(this,z).getElementsByTagName("p")[0];t.innerHTML=i},h(q,O,void 0);class et{static loadScript(i,t=!1){return new Promise(e=>{if(i===""){e(!1);return}const s=document.createElement("script");s.type="text/javascript",s.async=!1,s.onload=()=>{s.remove(),e(!0)},s.onerror=()=>{s.remove(),e(!1)},t&&(s.type="module"),s.src=i,document.head.append?document.head.append(s):document.getElementsByTagName("head")[0].appendChild(s)})}static loadCSS(i){return new Promise(t=>{if(i===""){t(!1);return}const e=document.createElement("link");e.rel="stylesheet",e.href=i,e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},document.head.append?document.head.append(e):document.getElementsByTagName("head")[0].appendChild(e)})}static async loadJSON(i){return await(await fetch(i)).json()}}const Vt=async()=>{const o=window.isDebug;let i="configs/setting.json";o&&(i="configs/debug.json");const t=await et.loadJSON(i),e=window;if(e.licenses=e.licenses||t.licenses,new q().authorized){let s=[];t.include.forEach(r=>{t.modules[r].forEach(a=>{switch(a.type){case"css":s.push(et.loadCSS(a.url));break;case"js":s.push(et.loadScript(a.url));break;case"module":s.push(et.loadScript(a.url,!0));break}})}),await Promise.all(s)}};class St extends HTMLElement{constructor(){super();h(this,F,void 0);g(this,F,this.innerHTML.trim())}get origin(){return n(this,F)}}F=new WeakMap,customElements.define("w-l",St);var S=(o=>(o[o.none=0]="none",o[o.funOnly=1]="funOnly",o[o.propOnly=2]="propOnly",o[o.always=3]="always",o))(S||{});const xt=o=>i=>(i.prototype._manifest=Xt(o),customElements.define(o.tagName,i),i),Xt=o=>(o=Object.assign({hasConfig:!1,mode:S.always},o),o),zt=o=>{Promise?Promise.resolve().then(o):requestAnimationFrame?requestAnimationFrame(o):setTimeout(o,0)};class Et extends HTMLElement{constructor(){super();h(this,J);h(this,at);h(this,ht);h(this,V);h(this,lt);h(this,K);h(this,dt);h(this,Q);h(this,ct);h(this,gt);h(this,C);h(this,D,void 0);h(this,B,void 0);h(this,$,void 0);h(this,R,void 0);h(this,k,void 0);h(this,j,void 0);h(this,W,"w-l");h(this,G,!1);h(this,M,S.none);h(this,ot,["value","src","title"]);h(this,X,!1);h(this,L,"unInited");new q().authorized&&(this.manifest.hasConfig&&c(this,J,yt).call(this,this.getAttribute("config")||this.getAttribute("configUrl")),g(this,M,this.manifest.mode??S.always),zt(()=>{c(this,ht,_t).call(this),c(this,C,U).call(this)}))}startup(t){this.mapView=t.mapView,this.map=t.map,this.mapConfig=t.mapConfig,this.config=t.config}get manifest(){return this._manifest}get mapConfig(){return n(this,D)}set mapConfig(t){!n(this,D)&&t&&(g(this,D,t),c(this,C,U).call(this))}get mapView(){return n(this,B)}set mapView(t){!n(this,B)&&t&&(g(this,B,t),c(this,C,U).call(this))}get map(){return n(this,$)}set map(t){!n(this,$)&&t&&(g(this,$,t),c(this,C,U).call(this))}get config(){return n(this,R)}set config(t){if(typeof t=="string"){c(this,J,yt).call(this,t);return}else typeof t=="object"&&!n(this,R)&&t&&(g(this,R,t),c(this,C,U).call(this))}get loading(){return!!n(this,k)}set loading(t){g(this,k,t),c(this,at,At).call(this)}get $data(){return n(this,j)}set $data(t){(n(this,M)&S.propOnly)==S.propOnly?(g(this,j,c(this,V,ft).call(this,t)),c(this,K,bt).call(this)):g(this,j,t)}isReady(){return!!(this.map&&this.mapView&&this.mapConfig&&(this.config||!this.manifest.hasConfig))}async onInit(){}afterInit(){}onOpen(){}onClose(){}}D=new WeakMap,B=new WeakMap,$=new WeakMap,R=new WeakMap,k=new WeakMap,j=new WeakMap,W=new WeakMap,G=new WeakMap,M=new WeakMap,ot=new WeakMap,J=new WeakSet,yt=async function(t){if(!this.config&&t){this.loading=!0;const e=await fetch(t);this.config=e&&e.ok&&await e.json()||{},this.loading=!1}},at=new WeakSet,At=function(){this.loading?this.classList.add("loading"):this.classList.remove("loading")},ht=new WeakSet,_t=function(){const t=this.manifest.className||this.manifest.tagName;if(this.classList.add(t),this.manifest.template){let e=this.manifest.template;(n(this,M)&S.propOnly)==S.propOnly&&(e=e.replace(/\{\{(.+?)\}\}/g,(...s)=>`<${n(this,W)}>${s[1]}</${n(this,W)}>`)),this.innerHTML=e,(n(this,M)&S.funOnly)==S.funOnly&&c(this,gt,Rt).call(this)}g(this,G,!0)},V=new WeakSet,ft=function(t){return typeof t=="object"&&t!==null?(Object.keys(t).forEach(e=>{t[e]=c(this,V,ft).call(this,t[e])}),new Proxy(t,{set:(e,s,r)=>(e[s]=c(this,V,ft).call(this,r),c(this,lt,Dt).call(this),!0)})):t},X=new WeakMap,lt=new WeakSet,Dt=function(){n(this,X)||(g(this,X,!0),zt(()=>{c(this,K,bt).call(this),g(this,X,!1)}))},K=new WeakSet,bt=function(){n(this,ot).forEach(e=>{c(this,dt,Bt).call(this,e)}),this.querySelectorAll(n(this,W)).forEach(e=>{const s=c(this,Q,vt).call(this,e.origin);String(s)!==e.innerHTML&&(e.innerHTML=s)})},dt=new WeakSet,Bt=function(t){const e=`s-${t}`;this.querySelectorAll(`[${e}]`).forEach(r=>{const l=r.getAttribute(e),a=c(this,Q,vt).call(this,l);a!==r[t]&&(r[t]=a)})},Q=new WeakSet,vt=function(t){try{return t.split(".").reduce((e,s)=>e[s],this.$data)}catch(e){console.error(e);return}},ct=new WeakSet,$t=function(t,e){let s=this.$data,r=t.split(".");for(let l=0;l<r.length;l++){const a=r[l];l==r.length-1?s[a]=e:s=s[a]}},gt=new WeakSet,Rt=function(){this.querySelectorAll("*").forEach(e=>{e.$this||(e.$this=this,e.$set=(s,r)=>{c(this,ct,$t).call(this,s,r)})})},L=new WeakMap,C=new WeakSet,U=async function(){n(this,G)&&(n(this,L)==="initing"||n(this,L)==="inited"||this.isReady()&&(g(this,L,"initing"),this.loading=!0,await this.onInit(),this.loading=!1,g(this,L,"inited"),this.afterInit()))};const te="",Ht=o=>{let i={};return["left","top","right","bottom","width","height","margin","margin-left","margin-top","margin-right","margin-bottom","padding","padding-left","padding-top","padding-right","padding-bottom","z-index"].forEach(e=>{typeof o[e]=="number"?i[e]=o[e]+"px":typeof o[e]<"u"&&(i[e]=o[e])}),i},mt=o=>{let i="";for(const t in o)o.hasOwnProperty(t)&&(i+=`${t}:${o[t]};`);return i};var Yt=Object.defineProperty,Ut=Object.getOwnPropertyDescriptor,qt=(o,i,t,e)=>{for(var s=e>1?void 0:e?Ut(i,t):i,r=o.length-1,l;r>=0;r--)(l=o[r])&&(s=(e?l(i,t,s):l(s))||s);return e&&s&&Yt(i,t,s),s};d.WidgetManager=(Ct=class extends Et{constructor(){super();h(this,pt)}async onInit(){this.config.forEach(t=>{this.addWidget(t)})}addWidget(t){t=c(this,pt,jt).call(this,t);try{if(t.inPanel){const e=this.createIcon(t);this.appendChild(e)}else{const e=this.createWidget(t);this.appendChild(e)}}catch(e){console.error(e)}}createIcon(t){const e=document.createElement("webgis-widget-icon");e.startup({mapView:this.mapView,map:this.map,config:t,mapConfig:this.mapConfig});const{width:s,height:r,...l}=t.position,a=mt(l);return e.setAttribute("style",a),e.title=t.label||t.tagName,e}createWidget(t){if(!t.tagName)throw new Error("tagName不能为空");const e=document.createElement(t.tagName);if(!e.startup)throw new Error(`没有找到tagName为${t.tagName}的组件`);e.startup({mapView:this.mapView,map:this.map,config:t.config,mapConfig:this.mapConfig});const s=t.position,r=mt(s);return e.setAttribute("style",r),e.style.zIndex=e.style.zIndex||"1",e}},pt=new WeakSet,jt=function(t){return t=Object.assign({label:"",tagName:"",position:{},inPanel:!1,icon:"",config:{}},t),t.position=Object.assign({left:"auto",right:"auto",bottom:"auto",top:"auto"},Ht(t.position)),t},Ct),d.WidgetManager=qt([xt({tagName:"webgis-widget-manager",className:"webgis-widget-manager",hasConfig:!0})],d.WidgetManager);const ee="",Ft=`<div>\r
    <!-- 图标 -->\r
    <div class="widget-icon" onclick="$this.iconClick(event)">\r
        <img s-src="icon">\r
    </div>\r
    <!-- 组件 -->\r
    <div class="widget-panel">\r
        <!-- 标题 -->\r
        <div class="widget-header">\r
            <div class="widget-label"></div>\r
            <div class="close-btn" onclick="$this.closeWidget()"></div>\r
        </div>\r
        <!-- 内容 -->\r
        <div class="widget-content"></div>\r
    </div>\r
</div>`;class x{static getPosition(i,t){var e=this.getBoundingClientRect(i);if(e={x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-e.top},t){var s=this.docScroll(i.ownerDocument);e.x+=s.x,e.y+=s.y}return e}static getBoundingClientRect(i){var t={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0},e;try{e=i.getBoundingClientRect()}catch{return t}return typeof e.left>"u"?t:e}static docScroll(i){var t=i.parentWindow||i.defaultView;return"pageXOffset"in t?{x:t.pageXOffset,y:t.pageYOffset}:i.documentElement?{x:i.documentElement.scrollLeft,y:i.documentElement.scrollTop}:{x:0,y:0}}static getPadBorderExtents(i){let t=window.getComputedStyle(i);return{l:parseInt(t.paddingLeft)+parseInt(t.borderLeft),t:parseInt(t.paddingTop)+parseInt(t.borderTop),r:parseInt(t.paddingRight)+parseInt(t.borderRight),b:parseInt(t.paddingBottom)+parseInt(t.borderBottom),w:parseInt(t.paddingLeft)+parseInt(t.borderLeft)+parseInt(t.paddingRight)+parseInt(t.borderRight),h:parseInt(t.paddingTop)+parseInt(t.borderTop)+parseInt(t.paddingBottom)+parseInt(t.borderBottom)}}static getMarginExtents(i){let t=window.getComputedStyle(i);return{l:parseInt(t.marginLeft),t:parseInt(t.marginTop),r:parseInt(t.marginRight),b:parseInt(t.marginBottom),w:parseInt(t.marginLeft)+parseInt(t.marginRight),h:parseInt(t.marginTop)+parseInt(t.marginBottom)}}}const ie="";class kt{constructor(i,t){w(this,"domNode");w(this,"container");w(this,"minSize",{w:20,h:20});w(this,"constrainMax",!1);w(this,"maxSize",{w:0,h:0});w(this,"fixedAspect",!1);w(this,"startSize");w(this,"_resizeX",!0);w(this,"_resizeY",!0);w(this,"startPoint",{x:0,y:0});w(this,"startPosition");w(this,"_isSizing",!1);this.container=i,t&&(this.minSize=t.minSize||this.minSize,this.maxSize=t.maxSize||this.maxSize,this.constrainMax=t.constrainMax||this.constrainMax,this.fixedAspect=t.fixedAspect||this.fixedAspect),this.init()}init(){this.domNode=document.createElement("div"),this.domNode.className="resize-handle",this.container.appendChild(this.domNode),this.domNode.addEventListener("mousedown",i=>this._beginSizing(i))}_beginSizing(i){if(i.preventDefault(),this._isSizing)return;this.startPoint={x:i.clientX,y:i.clientY};let t=x.getPosition(this.container,!0);this.startPosition={l:t.x,t:t.y};let e=x.getPadBorderExtents(this.container),s=x.getMarginExtents(this.container);this.startSize={w:this.container.offsetWidth,h:this.container.offsetHeight,pbw:e.w,pbh:e.h,mw:s.w,mh:s.h},this._isSizing=!0,this._endSizing=this._endSizing.bind(this),this._updateSizing=this._updateSizing.bind(this),document.addEventListener("mouseup",this._endSizing),document.addEventListener("mousemove",this._updateSizing),i.stopPropagation()}_updateSizing(i){var t,e,s,r;if(i.preventDefault(),this._isSizing){let l=this._getNewCoords(i,this.startPosition),a=l.w,u=l.h;a>=0&&(a=Math.max(a-((t=this.startSize)==null?void 0:t.pbw)-((e=this.startSize)==null?void 0:e.mw),0)),u>=0&&(u=Math.max(u-((s=this.startSize)==null?void 0:s.pbh)-((r=this.startSize)==null?void 0:r.mh),0)),this.container.style.width=a+"px",this.container.style.height=u+"px"}}_endSizing(i){i.preventDefault(),this._isSizing=!1,document.removeEventListener("mouseup",this._endSizing),document.removeEventListener("mousemove",this._updateSizing)}_getNewCoords(i,t){var u,y,Z,v,Pt,Mt;try{if(!i.clientX||!i.clientY)return!1}catch{return!1}var e=((u=this.startPoint)==null?void 0:u.x)-i.clientX,s=((y=this.startPoint)==null?void 0:y.y)-i.clientY,r=((Z=this.startSize)==null?void 0:Z.w)-(this._resizeX?e:0),l=((v=this.startSize)==null?void 0:v.h)-(this._resizeY?s:0),a=this._checkConstraints(r,l);return t=t||this.startPosition,t&&this._resizeX&&(a.l=t.l+e,a.w!=r&&(a.l+=r-a.w),a.t=t.t),a.w+=(Pt=this.startSize)==null?void 0:Pt.pbw,a.h+=(Mt=this.startSize)==null?void 0:Mt.pbh,a}_checkConstraints(i,t){var u,y;if(this.minSize){var e=this.minSize;i<e.w&&(i=e.w),t<e.h&&(t=e.h)}if(this.constrainMax&&this.maxSize){var s=this.maxSize;i>s.w&&(i=s.w),t>s.h&&(t=s.h)}if(this.fixedAspect){var r=(u=this.startSize)==null?void 0:u.w,l=(y=this.startSize)==null?void 0:y.h,a=r*t-l*i;a<0?i=t*r/l:a>0&&(t=i*l/r)}return{w:i,h:t}}}var Gt=Object.defineProperty,Jt=Object.getOwnPropertyDescriptor,Kt=(o,i,t,e)=>{for(var s=e>1?void 0:e?Jt(i,t):i,r=o.length-1,l;r>=0;r--)(l=o[r])&&(s=(e?l(i,t,s):l(s))||s);return e&&s&&Gt(i,t,s),s};d.WidgetIcon=(It=class extends Et{constructor(){super();h(this,m,null);h(this,I,null);h(this,H,!1);w(this,"group","default");h(this,Y,{x:0,y:0});h(this,b,{x:0,y:0,w:0,h:0});h(this,N,void 0);g(this,N,new ResizeObserver(this.resize.bind(this)))}async onInit(){this.$data={icon:`${this.config.icon||"icons/default.png"}`},this.group=this.config.group||"default",this.config.position=Object.assign({width:"300px",height:"300px"},this.config.position)}initPanel(){g(this,I,this.createWidget(this.config)),g(this,m,this.getElementsByClassName("widget-panel")[0]);const{width:t,height:e}=this.config.position,s=mt({width:t,height:e});n(this,m).setAttribute("style",s);let r=n(this,m).getElementsByClassName("widget-label")[0];r.innerHTML=this.title,n(this,m).getElementsByClassName("widget-content")[0].appendChild(n(this,I)),n(this,m).getElementsByClassName("widget-header")[0].addEventListener("mousedown",this.onMouseDown.bind(this)),new kt(n(this,m));const u=this.getPanelXY();this.setPosition(u.left,u.top)}getPanelXY(){var y;let t=((y=this.config.panel)==null?void 0:y.position)||{};const e=x.getPosition(this.parentElement,!0),s=this.getElementsByClassName("widget-icon")[0],r=x.getPosition(s,!0),l=x.getPosition(n(this,m),!0);let a,u;return t.left??!1?a=parseInt(t.left):t.right??!1?a=e.w-l.w-parseInt(t.right):r.x>e.w/2?a=r.x-l.w-5:a=r.x+r.w+5,t.top??!1?u=parseInt(t.top):t.bottom??!1?u=e.w-l.h-parseInt(t.bottom):u=r.y,{left:a,top:u}}iconClick(){n(this,H)?this.closeWidget():this.openWidget()}openWidget(){var t;this.closeOthers(),this.classList.add("webgis-widget-icon-open"),n(this,I)||this.initPanel(),(t=n(this,I))==null||t.onOpen(),g(this,H,!0),n(this,N).observe(this.parentElement)}closeWidget(){var t;this.classList.remove("webgis-widget-icon-open"),n(this,N).unobserve(this.parentElement),(t=n(this,I))==null||t.onClose(),g(this,H,!1)}closeOthers(){var e;const t=(e=this.parentNode)==null?void 0:e.querySelectorAll("webgis-widget-icon");t==null||t.forEach(s=>{this.group==s.group&&s.closeWidget()})}createWidget(t){if(!t.tagName)throw new Error("tagName不能为空");const e=document.createElement(t.tagName);if(!e.startup)throw new Error(`没有找到tagName为${t.tagName}的组件`);return e.startup({mapView:this.mapView,map:this.map,config:t.config,mapConfig:this.mapConfig}),e}destroy(){n(this,N).disconnect(),this.remove()}resize(){g(this,b,x.getPosition(n(this,m),!0)),this.setPosition(n(this,b).x,n(this,b).y)}onMouseDown(t){t.preventDefault(),n(this,m).classList.add("panel-dragging"),g(this,Y,{x:t.clientX,y:t.clientY}),g(this,b,x.getPosition(n(this,m),!0)),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}onMouseMove(t){t.preventDefault();let e=n(this,Y).x-t.clientX,s=n(this,Y).y-t.clientY,r=n(this,b).x-e,l=n(this,b).y-s;this.setPosition(r,l)}setPosition(t,e){let s=this.checkConstraints(t,e),r=x.getPosition(this,!0);n(this,m).style.left=s.x-r.x+"px",n(this,m).style.top=s.y-r.y+"px"}onMouseUp(t){t.preventDefault(),n(this,m).classList.remove("panel-dragging"),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}checkConstraints(t,e){const s=x.getPosition(this.parentElement,!0),r=s.x,l=s.w-n(this,b).w,a=s.y,u=s.h-n(this,b).h;return t=Math.max(r,Math.min(l,t)),e=Math.max(a,Math.min(u,e)),{x:t,y:e}}},m=new WeakMap,I=new WeakMap,H=new WeakMap,Y=new WeakMap,b=new WeakMap,N=new WeakMap,It),d.WidgetIcon=Kt([xt({tagName:"webgis-widget-icon",className:"webgis-widget-icon",template:Ft,hasConfig:!0})],d.WidgetIcon),Vt().then(()=>{console.log("初始化完成")}),d.BaseLabel=St,Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});
